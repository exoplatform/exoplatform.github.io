<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Event listeners | eXo developers documentation</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="eXo documentation">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.aefff845.css" as="style"><link rel="preload" href="/assets/js/app.566fc5fe.js" as="script"><link rel="preload" href="/assets/js/2.a6004e7f.js" as="script"><link rel="preload" href="/assets/js/1.298b45b6.js" as="script"><link rel="preload" href="/assets/js/54.17169cc4.js" as="script"><link rel="prefetch" href="/assets/js/10.225b8ad6.js"><link rel="prefetch" href="/assets/js/11.fcfda894.js"><link rel="prefetch" href="/assets/js/12.8288d633.js"><link rel="prefetch" href="/assets/js/13.61c54a2f.js"><link rel="prefetch" href="/assets/js/14.c8220840.js"><link rel="prefetch" href="/assets/js/15.cf0e000a.js"><link rel="prefetch" href="/assets/js/16.12acf4f0.js"><link rel="prefetch" href="/assets/js/17.60e99e03.js"><link rel="prefetch" href="/assets/js/18.402065f0.js"><link rel="prefetch" href="/assets/js/19.4cde00c8.js"><link rel="prefetch" href="/assets/js/20.e735bd74.js"><link rel="prefetch" href="/assets/js/21.4d9631b7.js"><link rel="prefetch" href="/assets/js/22.38c3a0bb.js"><link rel="prefetch" href="/assets/js/23.96cba659.js"><link rel="prefetch" href="/assets/js/24.6a323bb6.js"><link rel="prefetch" href="/assets/js/25.d314e852.js"><link rel="prefetch" href="/assets/js/26.781556fb.js"><link rel="prefetch" href="/assets/js/27.db2034f7.js"><link rel="prefetch" href="/assets/js/28.bdd32a1a.js"><link rel="prefetch" href="/assets/js/29.7705a494.js"><link rel="prefetch" href="/assets/js/3.535cbfb5.js"><link rel="prefetch" href="/assets/js/30.5235d8d8.js"><link rel="prefetch" href="/assets/js/31.12dc91a0.js"><link rel="prefetch" href="/assets/js/32.7b9193b7.js"><link rel="prefetch" href="/assets/js/33.d786c476.js"><link rel="prefetch" href="/assets/js/34.82a8e2bb.js"><link rel="prefetch" href="/assets/js/35.bfed5ce5.js"><link rel="prefetch" href="/assets/js/36.08aae2f6.js"><link rel="prefetch" href="/assets/js/37.7c5839ea.js"><link rel="prefetch" href="/assets/js/38.5a9c6f81.js"><link rel="prefetch" href="/assets/js/39.64b36a7a.js"><link rel="prefetch" href="/assets/js/4.36aa3fdb.js"><link rel="prefetch" href="/assets/js/40.91490da1.js"><link rel="prefetch" href="/assets/js/41.1bb028a9.js"><link rel="prefetch" href="/assets/js/42.2b2e6226.js"><link rel="prefetch" href="/assets/js/43.3eb1d2ff.js"><link rel="prefetch" href="/assets/js/44.aff75618.js"><link rel="prefetch" href="/assets/js/45.ae4c3883.js"><link rel="prefetch" href="/assets/js/46.c22a02ed.js"><link rel="prefetch" href="/assets/js/47.c2a86641.js"><link rel="prefetch" href="/assets/js/48.49f8e4ff.js"><link rel="prefetch" href="/assets/js/49.ef6e633d.js"><link rel="prefetch" href="/assets/js/5.8d70814d.js"><link rel="prefetch" href="/assets/js/50.82b2cb38.js"><link rel="prefetch" href="/assets/js/51.26af3c19.js"><link rel="prefetch" href="/assets/js/52.f2d45ccb.js"><link rel="prefetch" href="/assets/js/53.ecd43fd3.js"><link rel="prefetch" href="/assets/js/55.12746217.js"><link rel="prefetch" href="/assets/js/56.77bdaee4.js"><link rel="prefetch" href="/assets/js/57.0b269ef5.js"><link rel="prefetch" href="/assets/js/58.f7328ad9.js"><link rel="prefetch" href="/assets/js/59.5a4f9f04.js"><link rel="prefetch" href="/assets/js/6.477d5345.js"><link rel="prefetch" href="/assets/js/60.30d9251f.js"><link rel="prefetch" href="/assets/js/61.8b948aa3.js"><link rel="prefetch" href="/assets/js/62.5a0f0c07.js"><link rel="prefetch" href="/assets/js/63.e454eff4.js"><link rel="prefetch" href="/assets/js/64.a49d269e.js"><link rel="prefetch" href="/assets/js/65.bfc4b138.js"><link rel="prefetch" href="/assets/js/66.25150fb5.js"><link rel="prefetch" href="/assets/js/67.f5cc4cec.js"><link rel="prefetch" href="/assets/js/68.765560e5.js"><link rel="prefetch" href="/assets/js/69.1b311bba.js"><link rel="prefetch" href="/assets/js/7.75df615e.js"><link rel="prefetch" href="/assets/js/70.1d2c355e.js"><link rel="prefetch" href="/assets/js/71.764ddbf9.js"><link rel="prefetch" href="/assets/js/72.45bf8487.js"><link rel="prefetch" href="/assets/js/73.5834c41d.js"><link rel="prefetch" href="/assets/js/74.981741a8.js"><link rel="prefetch" href="/assets/js/75.60c0af0f.js"><link rel="prefetch" href="/assets/js/76.44b7b182.js"><link rel="prefetch" href="/assets/js/77.d4e20165.js"><link rel="prefetch" href="/assets/js/78.c33db6b5.js"><link rel="prefetch" href="/assets/js/79.c55e2cf6.js"><link rel="prefetch" href="/assets/js/80.3da0ce0e.js"><link rel="prefetch" href="/assets/js/81.09e71458.js"><link rel="prefetch" href="/assets/js/82.d36b7bb4.js"><link rel="prefetch" href="/assets/js/83.102fdcea.js"><link rel="prefetch" href="/assets/js/84.8a64b178.js"><link rel="prefetch" href="/assets/js/85.fed6c251.js"><link rel="prefetch" href="/assets/js/86.70751800.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.f3569c9a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.aefff845.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">eXo developers documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/getting-started/Introduction.html" class="nav-link">
  Getting Started
</a></div><div class="nav-item"><a href="/administration/" class="nav-link">
  Technical Administration
</a></div><div class="nav-item"><a href="/guide/developer-guide/rest-api.html" class="nav-link">
  REST API
</a></div><div class="nav-item"><a href="https://github.com/exoplatform/exo-community/discussions" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Q&amp;A
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/getting-started/Introduction.html" class="nav-link">
  Getting Started
</a></div><div class="nav-item"><a href="/administration/" class="nav-link">
  Technical Administration
</a></div><div class="nav-item"><a href="/guide/developer-guide/rest-api.html" class="nav-link">
  REST API
</a></div><div class="nav-item"><a href="https://github.com/exoplatform/exo-community/discussions" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Q&amp;A
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/guide/getting-started/Introduction.html" class="sidebar-heading clickable"><span>Getting Started</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/getting-started/Introduction.html" class="sidebar-link">Introduction</a></li><li><a href="/guide/getting-started/start-community.html" class="sidebar-link">Start eXo community</a></li></ul></section></li><li><a href="/guide/userAndAdminGuide.html" class="sidebar-link">User and Administrator guides</a></li><li><section class="sidebar-group depth-0"><a href="/guide/developer-guide/getting-started" class="sidebar-heading clickable open"><span>Developer guide</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/developer-guide/getting-started.html" class="sidebar-link">Getting started</a></li><li><a href="/guide/developer-guide/prepare-extension-project.html" class="sidebar-link">First step : Prepare extension project</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/guide/developer-guide/simple-integration/" class="sidebar-heading clickable router-link-active open"><span>Simple Integration</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/developer-guide/simple-integration/activity-type.html" class="sidebar-link">Activity types</a></li><li><a href="/guide/developer-guide/simple-integration/event-listeners.html" aria-current="page" class="active sidebar-link">Event listeners</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/developer-guide/simple-integration/event-listeners.html#lifecycle-of-an-event" class="sidebar-link">Lifecycle of an event</a></li><li class="sidebar-sub-header"><a href="/guide/developer-guide/simple-integration/event-listeners.html#create-an-event-listener" class="sidebar-link">Create an Event listener</a></li><li class="sidebar-sub-header"><a href="/guide/developer-guide/simple-integration/event-listeners.html#list-of-built-in-events" class="sidebar-link">List of built-in events</a></li></ul></li><li><a href="/guide/developer-guide/simple-integration/notification.html" class="sidebar-link">Notifications</a></li><li><a href="/guide/developer-guide/simple-integration/scheduled-jobs.html" class="sidebar-link">Scheduled jobs</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/guide/developer-guide/intermediate-integration/" class="sidebar-heading clickable"><span>Intermediate Integration</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/guide/developer-guide/rest-api" class="sidebar-heading clickable"><span>REST API</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/guide/developer-guide/miscellaneous/debug-dev-mode" class="sidebar-heading clickable"><span>Miscellaneous</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/guide/product-reference/" class="sidebar-heading clickable"><span>Product reference</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/product-reference/Internationalization.html" class="sidebar-link">Internationalization configuration</a></li><li><a href="/guide/product-reference/Javascript.html" class="sidebar-link">Developing JavaScript</a></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="event-listeners"><a href="#event-listeners" class="header-anchor">#</a> Event listeners</h1> <p>eXo platform includes a mechanism to implement event listeners.
An event listener is a component that will be executed following a specific user action or a system event.
It is an implementation of the interface <strong>org.exoplatform.services.listener.Listener</strong>, and should implement the function onEvent where you can add extra logic to existing functionality.</p> <h2 id="lifecycle-of-an-event"><a href="#lifecycle-of-an-event" class="header-anchor">#</a> Lifecycle of an event</h2> <p>1- User performs an action
2- A backend service will handle that action, once fulfilled broadcasts an event identified by the event name, with data related to the completed operation
3- The event listener attached to that event will be fired
4- You can add as many events as you need for each event</p> <h2 id="create-an-event-listener"><a href="#create-an-event-listener" class="header-anchor">#</a> Create an Event listener</h2> <p>There are a list of predefined events in the platform. You will use the login event as an example for this exercise.
This section will walk you through a complete sample extension that instructs you how to build your first event listener :</p> <ol><li>Create a new project based on <a href="https://github.com/exo-samples/docs-samples/tree/master/custom-extension" target="_blank" rel="noopener noreferrer">the template<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> of eXo platform extension</li> <li>Create a new class LoginEventListener.java under a new package named <strong>org.exoplatform.samples.listener</strong> in <code>services</code> module :<div class="language-java extra-class"><pre class="language-java"><code>  <span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>exoplatform<span class="token punctuation">.</span>samples<span class="token punctuation">.</span>listeners</span><span class="token punctuation">;</span>

  <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>exoplatform<span class="token punctuation">.</span>services<span class="token punctuation">.</span>listener<span class="token punctuation">.</span></span><span class="token class-name">Event</span></span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>exoplatform<span class="token punctuation">.</span>services<span class="token punctuation">.</span>listener<span class="token punctuation">.</span></span><span class="token class-name">Listener</span></span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>exoplatform<span class="token punctuation">.</span>services<span class="token punctuation">.</span>log<span class="token punctuation">.</span></span><span class="token class-name">ExoLogger</span></span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>exoplatform<span class="token punctuation">.</span>services<span class="token punctuation">.</span>log<span class="token punctuation">.</span></span><span class="token class-name">Log</span></span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>exoplatform<span class="token punctuation">.</span>services<span class="token punctuation">.</span>security<span class="token punctuation">.</span></span><span class="token class-name">ConversationRegistry</span></span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>exoplatform<span class="token punctuation">.</span>services<span class="token punctuation">.</span>security<span class="token punctuation">.</span></span><span class="token class-name">ConversationState</span></span><span class="token punctuation">;</span>

  <span class="token comment">// The class LoginEventListener should extend class Listener</span>
  <span class="token comment">// The class Listener takes two parametrized types that will be passed to the event object and be used respectively as :</span>
  <span class="token comment">// 1- Event source object</span>
  <span class="token comment">// 2- Event data object</span>
  <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginEventListener</span> <span class="token keyword">extends</span> <span class="token class-name">Listener</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ConversationRegistry</span><span class="token punctuation">,</span> <span class="token class-name">ConversationState</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

    <span class="token comment">// Logger object for this Listener</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Log</span> <span class="token constant">LOG</span> <span class="token operator">=</span> <span class="token class-name">ExoLogger</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">LoginEventListener</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onEvent</span><span class="token punctuation">(</span><span class="token class-name">Event</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ConversationRegistry</span><span class="token punctuation">,</span> <span class="token class-name">ConversationState</span><span class="token punctuation">&gt;</span></span> event<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
      <span class="token comment">// Retrieve the source for this event</span>
      <span class="token class-name">ConversationRegistry</span> source <span class="token operator">=</span> event<span class="token punctuation">.</span><span class="token function">getSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// Retrieve the data of the event</span>
      <span class="token class-name">ConversationState</span> data <span class="token operator">=</span> event<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token constant">LOG</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;An event was received from {} : The user {} was logged in&quot;</span><span class="token punctuation">,</span> source<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span><span class="token function">getIdentity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getUserId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div></li> <li>In file <code>$EXO_HOME/sources/custom-extension/services/pom.xml</code>, add needed dependencies :</li></ol> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.exoplatform.kernel<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>exo.kernel.component.common<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.exoplatform.core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>exo.core.component.security.core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="4"><li>Add the needed configuration to activate this listener, and specify the name of the event that it will be listening to, by adding this configuration in file <code>configuration.xml</code> in <code>$EXO_HOME/sources/custom-extension/webapp/src/main/WEB-INF/conf/</code> :</li></ol> <div class="language-xml extra-class"><pre class="language-xml"><code>    <span class="token comment">&lt;!-- register new event listener that will be fired when a user logs in--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>external-component-plugins</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- The service ListenerService registers all listeners with their respective event names --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>target-component</span><span class="token punctuation">&gt;</span></span>org.exoplatform.services.listener.ListenerService<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>target-component</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component-plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- The event name, it identifies an event, we can have many listeners for the same event --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>exo.core.security.ConversationRegistry.register<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- This is the function in ListenerService called to register each new listener --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set-method</span><span class="token punctuation">&gt;</span></span>addListener<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set-method</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- Here you put the FQN of the new listener --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">&gt;</span></span>org.exoplatform.samples.listener.LoginEventListener<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component-plugin</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>external-component-plugins</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="5"><li>Build the project using Maven :</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code>   <span class="token builtin class-name">cd</span> <span class="token variable">$EXO_HOME</span>/sources/sample-event-listener 
   mvn package
</code></pre></div><ol start="6"><li>Copy the built jar and war files to their destination folders inside the $EXO_HOME</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code>   <span class="token function">cp</span> services/target/sample-notification-services.jar <span class="token variable">$EXO_HOME</span>/lib/sample-notification-services.jar
   <span class="token function">cp</span> webapp/target/sample-notification-webapp.war <span class="token variable">$EXO_HOME</span>/webapps
</code></pre></div><ol start="7"><li>Deploy both files inside the eXo platform container, using the volumes section in <strong>docker-compose.yml</strong> :</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code>       volumes:
         - exo_data:/srv/exo
         - exo_logs:/var/log/exo
         - <span class="token variable">$EXO_HOME</span>/lib/sample-event-listeners.jar:/opt/exo/lib/sample-event-listeners.jar
         - <span class="token variable">$EXO_HOME</span>/webapps/event-listeners-webapp.war:/opt/exo/webapps/event-listeners-webapp.war
</code></pre></div><ol start="8"><li>Start eXo platform :</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code>   <span class="token function">docker-compose</span> <span class="token parameter variable">-f</span> /path/to/docker-compose.yml up
</code></pre></div><ol start="9"><li>If the above steps are successfully applied, you should see a new line in docker logs :</li></ol> <div class="language- extra-class"><pre class="language-text"><code>exo_1      | 2022-09-28 20:36:23,202 | INFO  | An event was received from class org.exoplatform.services.security.ConversationRegistry : The user haroun was logged in [o.e.samples.listener.LoginEventListener&lt;http-nio-0.0.0.0-8080-exec-2&gt;] 
</code></pre></div><h2 id="list-of-built-in-events"><a href="#list-of-built-in-events" class="header-anchor">#</a> List of built-in events</h2> <p>This is a non exhaustive list of events already present in eXo platform</p> <table><thead><tr><th>Event name</th> <th>Description</th></tr></thead> <tbody><tr><td>exo.core.security.ConversationRegistry.register</td> <td>A user logs in</td></tr> <tr><td>exo.core.security.ConversationRegistry.unregister</td> <td>A user logs out</td></tr> <tr><td>login.failed</td> <td>A user failed to login</td></tr> <tr><td>exo.onlyoffice.editor.opened</td> <td>OnlyOffice editor opened to edit a document</td></tr> <tr><td>share_document_event</td> <td>A document was shared to a space/user</td></tr> <tr><td>rename_file_event</td> <td>A file was renamed</td></tr> <tr><td>exo.automatic-translation.event.translate</td> <td>A request to translate an activity was sent</td></tr> <tr><td>Document.event.TagAdded</td> <td>A new tag added to a document</td></tr> <tr><td>Document.event.TagRemoved</td> <td>A tag removed from a document</td></tr> <tr><td>metadata.tag.added</td> <td>a new tag added to metadata</td></tr> <tr><td>meeds.poll.createPoll</td> <td>Poll created</td></tr> <tr><td>meeds.poll.votePoll</td> <td>A poll was voted</td></tr> <tr><td>exo.agenda.event.created</td> <td>An event was created</td></tr> <tr><td>exo.agenda.event.poll.created</td> <td>A poll created for an event</td></tr> <tr><td>exo.agenda.event.updated</td> <td>an event was updated</td></tr> <tr><td>exo.agenda.event.poll.voted</td> <td>A poll for an event gets voted</td></tr> <tr><td>exo.agenda.event.poll.dismissed</td> <td>A vote for an event poll was dismissed</td></tr> <tr><td>exo.agenda.event.poll.voted.all</td> <td>All participants in an event did vote</td></tr> <tr><td>exo.agenda.event.responseSent</td> <td>A response was sent for an event</td></tr> <tr><td>org.exoplatform.web.GenericHttpListener.sessionCreated</td> <td>new HTTP session was created</td></tr> <tr><td>org.exoplatform.web.GenericHttpListener.sessionDestroyed</td> <td>an HTTP session was destroyed</td></tr> <tr><td>dlp.listener.event.detect.item</td> <td>An item was detected by DLP</td></tr> <tr><td>dlp.listener.event.delete.item</td> <td>An item was deleted by DLP</td></tr> <tr><td>dlp.listener.event.restore.item</td> <td>A deleted item was restored by DLP</td></tr> <tr><td>social.metadataItem.created</td> <td>a new metadata item was created</td></tr> <tr><td>social.metadataItem.deleted</td> <td>a metadata item was deleted</td></tr> <tr><td>social.metadataItem.updated</td> <td>a metadata item was updated</td></tr> <tr><td>social.metadataItem.shared</td> <td>a new metadata item was shared</td></tr> <tr><td>exo.wiki.edit</td> <td>a Notes (aka Wiki) page was updated</td></tr> <tr><td>WCMPublicationService.event.updateState</td> <td>Publication state of a document was updated</td></tr> <tr><td>PublicationService.event.postChangeState</td> <td>Event fired before updating the publication state of a content</td></tr> <tr><td>CmsService.event.postCreate</td> <td>A new content created</td></tr> <tr><td>CmsService.event.postEdit</td> <td>A content is updated</td></tr> <tr><td>WebDavService.event.postUpload</td> <td>A file was uploaded from Webdav connector</td></tr> <tr><td>PublicationService.event.postUpdateState</td> <td>A publication state will be changed</td></tr> <tr><td>ActivityNotify.event.FileCreated</td> <td>A new file was created/uploaded</td></tr> <tr><td>ActivityNotify.event.StateChanged</td> <td>the publication state of a content\file has been changed</td></tr> <tr><td>ActivityNotify.event.PropertyUpdated</td> <td>a property of a content as updated</td></tr> <tr><td>FileActivityNotify.event.PropertyAdded</td> <td>a content was added a new property</td></tr> <tr><td>FileActivityNotify.event.PropertyRemoved</td> <td>a property of a content was removed</td></tr> <tr><td>FileActivityNotify.event.FileRemoved</td> <td>A file was removed</td></tr> <tr><td>FileActivityNotify.event.PropertyUpdated</td> <td>a property of a content was updated</td></tr> <tr><td>ActivityNotify.event.AttachmentAdded</td> <td>A file was attached to an activity</td></tr> <tr><td>ActivityNotify.event.AttachmentRemoved</td> <td>An attached file was removed from an activity</td></tr> <tr><td>ActivityNotify.event.CategoryAdded</td> <td>A content was added to a Category</td></tr> <tr><td>ActivityNotify.event.CategoryRemoved</td> <td>A content was removed from an activity</td></tr> <tr><td>ActivityNotify.event.CommentAdded</td> <td>A comment was added to an activity</td></tr> <tr><td>ActivityNotify.event.CommentUpdated</td> <td>A comment was updated</td></tr> <tr><td>ActivityNotify.event.CommentRemoved</td> <td>A comment was removed</td></tr> <tr><td>ActivityNotify.event.NodeMoved</td> <td>A content was moved</td></tr> <tr><td>ActivityNotify.event.NodeRemoved</td> <td>A content was removed</td></tr> <tr><td>ActivityNotify.event.RevisionChanged</td> <td>A content revision was restored</td></tr> <tr><td>exo.news.gamification.postArticle</td> <td>A new article was posted</td></tr> <tr><td>exo.news.gamification.PublishArticle</td> <td>A new article was published</td></tr> <tr><td>exo.news.postArticle</td> <td>A new article was posted</td></tr> <tr><td>exo.news.updateArticle</td> <td>An article was updated</td></tr> <tr><td>exo.news.deleteArticle</td> <td>An article was deleted</td></tr> <tr><td>exo.news.viewArticle</td> <td>An article was viewed</td></tr> <tr><td>exo.news.shareArticle</td> <td>An article was shared</td></tr> <tr><td>exo.news.commentArticle</td> <td>An article was commented</td></tr> <tr><td>exo.news.likeArticle</td> <td>An article was liked</td></tr> <tr><td>exo.news.archiveArticle</td> <td>An article was archived</td></tr> <tr><td>exo.news.unarchiveArticle</td> <td>An article was un-archived</td></tr> <tr><td>exo.news.scheduleArticle</td> <td>An article publication was scheduled</td></tr> <tr><td>exo.news.unscheduleArticle</td> <td>An article publication was unscheduled</td></tr> <tr><td>exo.task.taskCreation</td> <td>A task was created</td></tr> <tr><td>exo.task.taskUpdate</td> <td>A task was updated</td></tr> <tr><td>exo.task.taskCommentCreation</td> <td>A task had a new comment</td></tr> <tr><td>exo.project.projectModified</td> <td>A task's project was modified</td></tr> <tr><td>exo.task.labelAddedToTask</td> <td>A label was added to a task</td></tr> <tr><td>exo.task.labelDeletedFromTask</td> <td>A label deleted from a task</td></tr> <tr><td>challenge.announcement.activity</td> <td>A challenge was announced</td></tr> <tr><td>exo.gamification.generic.action</td> <td>A generic action for gamification events</td></tr> <tr><td>exo.gamification.domain.action</td> <td>A generic event for adding/updating/deleting gamification domains</td></tr> <tr><td>exo.kudos.activity</td> <td>A kudos activity was created</td></tr> <tr><td>exo.kudos.sent</td> <td>A kudos was sent</td></tr> <tr><td>exo.perkstore.order.createOrModify</td> <td>An order created/updated</td></tr> <tr><td>exo.perkstore.product.createOrModify</td> <td>A Product created/updated</td></tr> <tr><td>exo.perkstore.settings.modified</td> <td>The settings of perkstore updated</td></tr> <tr><td>exo.wallet.reward.report.success</td> <td>Rewarding report generated successfully</td></tr> <tr><td>exo.wallet.transaction.replaced</td> <td>A blockchain transaction was replaced by another onEvent</td></tr> <tr><td>exo.wallet.addressAssociation.new</td> <td>the address of the wallet created</td></tr> <tr><td>exo.wallet.block.mined</td> <td>A new block mined in the Blockchain</td></tr> <tr><td>exo.wallet.transaction.mined</td> <td>A transaction was mined in the blockchain</td></tr> <tr><td>exo.wallet.transaction.modified</td> <td>A transaction was modified in the blockchain</td></tr> <tr><td>exo.wallet.transaction.sent</td> <td>A transaction was sent to the blockchain</td></tr> <tr><td>exo.wallet.modified</td> <td>A wallet was modified</td></tr> <tr><td>exo.wallet.contract.modified</td> <td>The blockchain contract was modified</td></tr> <tr><td>exo.wallet.deleted</td> <td>The wallet was deleted</td></tr> <tr><td>exo.webconferencing.callCreated</td> <td>Web conferencing : call created</td></tr> <tr><td>exo.webconferencing.callStarted</td> <td>Web conferencing : call started</td></tr> <tr><td>exo.webconferencing.callJoined</td> <td>Web conferencing : user joined the call</td></tr> <tr><td>exo.webconferencing.callLeft</td> <td>Web conferencing : user left the call</td></tr> <tr><td>exo.webconferencing.callStopped</td> <td>Web conferencing : call stopped</td></tr> <tr><td>exo.webconferencing.callRecorded</td> <td>Web conferencing : call was recorded successfully</td></tr></tbody></table></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/developer-guide/simple-integration/activity-type.html" class="prev">
        Activity types
      </a></span> <span class="next"><a href="/guide/developer-guide/simple-integration/notification.html">
        Notifications
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.566fc5fe.js" defer></script><script src="/assets/js/2.a6004e7f.js" defer></script><script src="/assets/js/1.298b45b6.js" defer></script><script src="/assets/js/54.17169cc4.js" defer></script>
  </body>
</html>
