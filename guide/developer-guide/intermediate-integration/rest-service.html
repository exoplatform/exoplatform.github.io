<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Create a new REST service | eXo developers documentation</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="eXo documentation">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.aefff845.css" as="style"><link rel="preload" href="/assets/js/app.566fc5fe.js" as="script"><link rel="preload" href="/assets/js/2.a6004e7f.js" as="script"><link rel="preload" href="/assets/js/1.298b45b6.js" as="script"><link rel="preload" href="/assets/js/20.e735bd74.js" as="script"><link rel="prefetch" href="/assets/js/10.225b8ad6.js"><link rel="prefetch" href="/assets/js/11.fcfda894.js"><link rel="prefetch" href="/assets/js/12.8288d633.js"><link rel="prefetch" href="/assets/js/13.61c54a2f.js"><link rel="prefetch" href="/assets/js/14.c8220840.js"><link rel="prefetch" href="/assets/js/15.cf0e000a.js"><link rel="prefetch" href="/assets/js/16.12acf4f0.js"><link rel="prefetch" href="/assets/js/17.60e99e03.js"><link rel="prefetch" href="/assets/js/18.402065f0.js"><link rel="prefetch" href="/assets/js/19.4cde00c8.js"><link rel="prefetch" href="/assets/js/21.4d9631b7.js"><link rel="prefetch" href="/assets/js/22.38c3a0bb.js"><link rel="prefetch" href="/assets/js/23.96cba659.js"><link rel="prefetch" href="/assets/js/24.6a323bb6.js"><link rel="prefetch" href="/assets/js/25.d314e852.js"><link rel="prefetch" href="/assets/js/26.781556fb.js"><link rel="prefetch" href="/assets/js/27.db2034f7.js"><link rel="prefetch" href="/assets/js/28.bdd32a1a.js"><link rel="prefetch" href="/assets/js/29.7705a494.js"><link rel="prefetch" href="/assets/js/3.535cbfb5.js"><link rel="prefetch" href="/assets/js/30.5235d8d8.js"><link rel="prefetch" href="/assets/js/31.12dc91a0.js"><link rel="prefetch" href="/assets/js/32.7b9193b7.js"><link rel="prefetch" href="/assets/js/33.d786c476.js"><link rel="prefetch" href="/assets/js/34.82a8e2bb.js"><link rel="prefetch" href="/assets/js/35.bfed5ce5.js"><link rel="prefetch" href="/assets/js/36.08aae2f6.js"><link rel="prefetch" href="/assets/js/37.7c5839ea.js"><link rel="prefetch" href="/assets/js/38.5a9c6f81.js"><link rel="prefetch" href="/assets/js/39.64b36a7a.js"><link rel="prefetch" href="/assets/js/4.36aa3fdb.js"><link rel="prefetch" href="/assets/js/40.91490da1.js"><link rel="prefetch" href="/assets/js/41.1bb028a9.js"><link rel="prefetch" href="/assets/js/42.2b2e6226.js"><link rel="prefetch" href="/assets/js/43.3eb1d2ff.js"><link rel="prefetch" href="/assets/js/44.aff75618.js"><link rel="prefetch" href="/assets/js/45.ae4c3883.js"><link rel="prefetch" href="/assets/js/46.c22a02ed.js"><link rel="prefetch" href="/assets/js/47.c2a86641.js"><link rel="prefetch" href="/assets/js/48.49f8e4ff.js"><link rel="prefetch" href="/assets/js/49.ef6e633d.js"><link rel="prefetch" href="/assets/js/5.8d70814d.js"><link rel="prefetch" href="/assets/js/50.82b2cb38.js"><link rel="prefetch" href="/assets/js/51.26af3c19.js"><link rel="prefetch" href="/assets/js/52.f2d45ccb.js"><link rel="prefetch" href="/assets/js/53.ecd43fd3.js"><link rel="prefetch" href="/assets/js/54.17169cc4.js"><link rel="prefetch" href="/assets/js/55.12746217.js"><link rel="prefetch" href="/assets/js/56.77bdaee4.js"><link rel="prefetch" href="/assets/js/57.0b269ef5.js"><link rel="prefetch" href="/assets/js/58.f7328ad9.js"><link rel="prefetch" href="/assets/js/59.5a4f9f04.js"><link rel="prefetch" href="/assets/js/6.477d5345.js"><link rel="prefetch" href="/assets/js/60.30d9251f.js"><link rel="prefetch" href="/assets/js/61.8b948aa3.js"><link rel="prefetch" href="/assets/js/62.5a0f0c07.js"><link rel="prefetch" href="/assets/js/63.e454eff4.js"><link rel="prefetch" href="/assets/js/64.a49d269e.js"><link rel="prefetch" href="/assets/js/65.bfc4b138.js"><link rel="prefetch" href="/assets/js/66.25150fb5.js"><link rel="prefetch" href="/assets/js/67.f5cc4cec.js"><link rel="prefetch" href="/assets/js/68.765560e5.js"><link rel="prefetch" href="/assets/js/69.1b311bba.js"><link rel="prefetch" href="/assets/js/7.75df615e.js"><link rel="prefetch" href="/assets/js/70.1d2c355e.js"><link rel="prefetch" href="/assets/js/71.764ddbf9.js"><link rel="prefetch" href="/assets/js/72.45bf8487.js"><link rel="prefetch" href="/assets/js/73.5834c41d.js"><link rel="prefetch" href="/assets/js/74.981741a8.js"><link rel="prefetch" href="/assets/js/75.60c0af0f.js"><link rel="prefetch" href="/assets/js/76.44b7b182.js"><link rel="prefetch" href="/assets/js/77.d4e20165.js"><link rel="prefetch" href="/assets/js/78.c33db6b5.js"><link rel="prefetch" href="/assets/js/79.c55e2cf6.js"><link rel="prefetch" href="/assets/js/80.3da0ce0e.js"><link rel="prefetch" href="/assets/js/81.09e71458.js"><link rel="prefetch" href="/assets/js/82.d36b7bb4.js"><link rel="prefetch" href="/assets/js/83.102fdcea.js"><link rel="prefetch" href="/assets/js/84.8a64b178.js"><link rel="prefetch" href="/assets/js/85.fed6c251.js"><link rel="prefetch" href="/assets/js/86.70751800.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.f3569c9a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.aefff845.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">eXo developers documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/getting-started/Introduction.html" class="nav-link">
  Getting Started
</a></div><div class="nav-item"><a href="/administration/" class="nav-link">
  Technical Administration
</a></div><div class="nav-item"><a href="/guide/developer-guide/rest-api.html" class="nav-link">
  REST API
</a></div><div class="nav-item"><a href="https://github.com/exoplatform/exo-community/discussions" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Q&amp;A
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/getting-started/Introduction.html" class="nav-link">
  Getting Started
</a></div><div class="nav-item"><a href="/administration/" class="nav-link">
  Technical Administration
</a></div><div class="nav-item"><a href="/guide/developer-guide/rest-api.html" class="nav-link">
  REST API
</a></div><div class="nav-item"><a href="https://github.com/exoplatform/exo-community/discussions" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Q&amp;A
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/guide/getting-started/Introduction.html" class="sidebar-heading clickable"><span>Getting Started</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/getting-started/Introduction.html" class="sidebar-link">Introduction</a></li><li><a href="/guide/getting-started/start-community.html" class="sidebar-link">Start eXo community</a></li></ul></section></li><li><a href="/guide/userAndAdminGuide.html" class="sidebar-link">User and Administrator guides</a></li><li><section class="sidebar-group depth-0"><a href="/guide/developer-guide/getting-started" class="sidebar-heading clickable open"><span>Developer guide</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/developer-guide/getting-started.html" class="sidebar-link">Getting started</a></li><li><a href="/guide/developer-guide/prepare-extension-project.html" class="sidebar-link">First step : Prepare extension project</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/guide/developer-guide/simple-integration/" class="sidebar-heading clickable"><span>Simple Integration</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/guide/developer-guide/intermediate-integration/" class="sidebar-heading clickable router-link-active open"><span>Intermediate Integration</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/developer-guide/intermediate-integration/front-end-application.html" class="sidebar-link">Develop a front end application</a></li><li><a href="/guide/developer-guide/intermediate-integration/rest-service.html" aria-current="page" class="active sidebar-link">Create a new REST service</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/developer-guide/intermediate-integration/rest-service.html#develop-a-rest-service" class="sidebar-link">Develop a Rest service</a></li><li class="sidebar-sub-header"><a href="/guide/developer-guide/intermediate-integration/rest-service.html#create-a-frontend-applications" class="sidebar-link">Create a frontend applications</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/guide/developer-guide/rest-api" class="sidebar-heading clickable"><span>REST API</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/guide/developer-guide/miscellaneous/debug-dev-mode" class="sidebar-heading clickable"><span>Miscellaneous</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/guide/product-reference/" class="sidebar-heading clickable"><span>Product reference</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/product-reference/Internationalization.html" class="sidebar-link">Internationalization configuration</a></li><li><a href="/guide/product-reference/Javascript.html" class="sidebar-link">Developing JavaScript</a></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="create-a-new-rest-service"><a href="#create-a-new-rest-service" class="header-anchor">#</a> Create a new REST service</h1> <p>This page will describe how to create a new REST Service exposing data and how to deploy it in eXo platform.
eXo platform contains an implementation of the Jax-RS (<a href="https://jcp.org/aboutJava/communityprocess/final/jsr311/index.html" target="_blank" rel="noopener noreferrer">JSR 311<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>) which is the standard Java API for developing applications using the REST architecture.</p> <h2 id="develop-a-rest-service"><a href="#develop-a-rest-service" class="header-anchor">#</a> Develop a Rest service</h2> <p>You will implement a new REST service that will return the list of users who are connected to the current user, with their birthday dates.
This tutorial will be based on the same extension we created in <a href="../prepare-extension-project">Prepare your extension project tutorial</a></p> <ol><li><p>Copy the extension to the sources folder <strong>$EXO_HOME/sources</strong> and rename it to <strong>my-connections-birthdays-extension</strong> as described in <a href="/guide/developer-guide/prepare-extension-project.html#rename-the-extension">Rename your extension</a> tutorial</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><strong>$EXO_HOME</strong> is the environment variable that contain the path to the working directory as requested in <a href="/guide/getting-started/start-community#start-exo-platform">Start eXo community</a> page</p></div></li> <li><p>Create a new Java package <em>org.exoplatform.samples.birthday</em> under <strong>my-connections-birthdays-extension/services/src/main/java</strong></p></li> <li><p>Create a new Java class <strong>MyConnectionsBirthdaysService</strong> under <strong>my-connections-birthdays-extension/services/src/main/java/org/exoplatform/samples/birthday</strong> . This class will represent the RESTfull service. A RESFTful web service in eXo platform :</p> <ol><li>Should implement the class interface <em>org.exoplatform.services.rest.resource.ResourceContainer</em></li> <li>Is compliant with JAX-RS specification which means it uses all available annotation to define the access URL path, the HTTP verbs (@Get , @POST, @DELETE, etc...)</li> <li>Following is the source code for our RESTful service that will load the list of people connected with the current user with some of their profile properties</li></ol> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>exoplatform<span class="token punctuation">.</span>samples<span class="token punctuation">.</span>birthday</span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>exoplatform<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">ListAccess</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>exoplatform<span class="token punctuation">.</span>services<span class="token punctuation">.</span>log<span class="token punctuation">.</span></span><span class="token class-name">ExoLogger</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>exoplatform<span class="token punctuation">.</span>services<span class="token punctuation">.</span>log<span class="token punctuation">.</span></span><span class="token class-name">Log</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>exoplatform<span class="token punctuation">.</span>services<span class="token punctuation">.</span>rest<span class="token punctuation">.</span>resource<span class="token punctuation">.</span></span><span class="token class-name">ResourceContainer</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>exoplatform<span class="token punctuation">.</span>social<span class="token punctuation">.</span>core<span class="token punctuation">.</span>identity<span class="token punctuation">.</span>model<span class="token punctuation">.</span></span><span class="token class-name">Identity</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>exoplatform<span class="token punctuation">.</span>social<span class="token punctuation">.</span>core<span class="token punctuation">.</span>manager<span class="token punctuation">.</span></span><span class="token class-name">IdentityManager</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>exoplatform<span class="token punctuation">.</span>social<span class="token punctuation">.</span>core<span class="token punctuation">.</span>manager<span class="token punctuation">.</span></span><span class="token class-name">RelationshipManager</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>json<span class="token punctuation">.</span></span><span class="token class-name">JSONArray</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>json<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span></span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>security<span class="token punctuation">.</span></span><span class="token class-name">RolesAllowed</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>ws<span class="token punctuation">.</span>rs<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>ws<span class="token punctuation">.</span>rs<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Context</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>ws<span class="token punctuation">.</span>rs<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Response</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>ws<span class="token punctuation">.</span>rs<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">SecurityContext</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>format<span class="token punctuation">.</span></span><span class="token class-name">DateTimeFormatter</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Locale</span></span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Path</span><span class="token punctuation">(</span><span class="token string">&quot;connections/birthday&quot;</span><span class="token punctuation">)</span> <span class="token comment">//Access path to our REST service</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyConnectionsBirthdayRESTService</span> <span class="token keyword">implements</span> <span class="token class-name">ResourceContainer</span> <span class="token punctuation">{</span>
        <span class="token comment">// Logger for our class</span>
        <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Log</span> <span class="token constant">LOG</span> <span class="token operator">=</span> <span class="token class-name">ExoLogger</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">MyConnectionsBirthdayRESTService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Service used to load user identities</span>
        <span class="token keyword">private</span> <span class="token class-name">IdentityManager</span> identityManager<span class="token punctuation">;</span>

        <span class="token comment">//  Service used to manage relationships with other users</span>
        <span class="token keyword">private</span> <span class="token class-name">RelationshipManager</span> relationshipManager<span class="token punctuation">;</span>

        <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token constant">BIRTHDAY_PROPERTY</span> <span class="token operator">=</span> <span class="token string">&quot;birthday&quot;</span><span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token class-name">MyConnectionsBirthdayRESTService</span><span class="token punctuation">(</span><span class="token class-name">IdentityManager</span> identityManager<span class="token punctuation">,</span> <span class="token class-name">RelationshipManager</span> relationshipManager<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>identityManager <span class="token operator">=</span> identityManager<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>relationshipManager <span class="token operator">=</span> relationshipManager<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token annotation punctuation">@GET</span>
        <span class="token annotation punctuation">@RolesAllowed</span><span class="token punctuation">(</span><span class="token string">&quot;users&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">public</span> <span class="token class-name">Response</span> <span class="token function">getMyConnectionsBirthday</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Context</span> <span class="token class-name">SecurityContext</span> securityContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            
            <span class="token comment">// Load current authenticated user</span>
            <span class="token class-name">String</span> authenticatedUserName <span class="token operator">=</span> securityContext<span class="token punctuation">.</span><span class="token function">getUserPrincipal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">// Load the identity of the current user</span>
            <span class="token class-name">Identity</span> authenticatedUser <span class="token operator">=</span> identityManager<span class="token punctuation">.</span><span class="token function">getOrCreateUserIdentity</span><span class="token punctuation">(</span>authenticatedUserName<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// Load list of people connected with him</span>
            <span class="token class-name">ListAccess</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Identity</span><span class="token punctuation">&gt;</span></span> connections <span class="token operator">=</span> relationshipManager<span class="token punctuation">.</span><span class="token function">getConnections</span><span class="token punctuation">(</span>authenticatedUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Identity</span><span class="token punctuation">[</span><span class="token punctuation">]</span> connectionsIdentities <span class="token operator">=</span> connections<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> connections<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token comment">// Create a JSON array that will be returned with the response</span>
            <span class="token class-name">JSONArray</span> jsonArray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JSONArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Identity</span> connection <span class="token operator">:</span> connectionsIdentities<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">JSONObject</span> connectionJSON <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JSONObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                connectionJSON<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;userName&quot;</span><span class="token punctuation">,</span> connection<span class="token punctuation">.</span><span class="token function">getRemoteId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                connectionJSON<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;fullName&quot;</span><span class="token punctuation">,</span> connection<span class="token punctuation">.</span><span class="token function">getProfile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                connectionJSON<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;avatar&quot;</span><span class="token punctuation">,</span> connection<span class="token punctuation">.</span><span class="token function">getProfile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAvatarUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                connectionJSON<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token constant">BIRTHDAY_PROPERTY</span><span class="token punctuation">,</span> connection<span class="token punctuation">.</span><span class="token function">getProfile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token constant">BIRTHDAY_PROPERTY</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                jsonArray<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>connectionJSON<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            
            <span class="token comment">// If everything is OK, we return a HTTP 200 response with the Json array</span>
            <span class="token keyword">return</span> <span class="token class-name">Response</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span>jsonArray<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// Something went wrong, an error is logged and a HTTP 500 error is returned</span>
            <span class="token constant">LOG</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;Error getting user connections for {}&quot;</span><span class="token punctuation">,</span> authenticatedUserName<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token class-name">Response</span><span class="token punctuation">.</span><span class="token function">serverError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div></li> <li><p>Add the configuration of the RESTFul web service to activate it under <strong>webapp/src/main/webapp/WEB-INF/conf/configuration.xml</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code>    <span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.exoplatform.org/xml/ns/kernel_1_2.xsd http://www.exoplatform.org/xml/ns/kernel_1_2.xsd<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.exoplatform.org/xml/ns/kernel_1_2.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- register new event listener that will be fired when a user updates his profile--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>org.exoplatform.samples.birthday.MyConnectionsBirthdayRESTService<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">&gt;</span></span>org.exoplatform.samples.birthday.MyConnectionsBirthdayRESTService<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p>Build &amp; deploy the extension in your eXo platform server :</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span> <span class="token builtin class-name">cd</span> <span class="token variable">$EXO_HOME</span>/sources/my-connections-birthdays-extension
<span class="token operator">&gt;</span> mvn clean <span class="token function">install</span>
<span class="token operator">&gt;</span> <span class="token function">cp</span> services/target/my-connections-birthday-services.jar <span class="token variable">$EXO_HOME</span>/lib 
<span class="token operator">&gt;</span> <span class="token function">cp</span> webapp/target/my-connections-birthday-webapp.war <span class="token variable">$EXO_HOME</span>/webapps
</code></pre></div></li> <li><p>Add the built files <strong>my-connections-birthday-services.jar</strong> and <strong>my-connections-birthday-webapp.war</strong> to the volumes section of the eXo platform container :</p> <div class="language- extra-class"><pre class="language-text"><code>    volumes:
     - exo_data:/srv/exo
     - exo_logs:/var/log/exo
     - $EXO_HOME/webapps/my-connections-birthday-webapp.war:/opt/exo/webapps/my-connections-birthday-webapp.war
     - $EXO_HOME/lib/my-connections-birthday-services.jar:/opt/exo/lib/my-connections-birthday-services.jar
</code></pre></div></li> <li><p>Start eXo platform containers using docker-compose :</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span> <span class="token function">docker-compose</span> <span class="token parameter variable">-f</span> <span class="token variable">$EXO_HOME</span>/docker-compose.yml up
</code></pre></div></li> <li><p>When the server is started, go to <a href="http://localhost" target="_blank" rel="noopener noreferrer">http://localhost<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, login with an administrator account (<em>root</em> for example) and create some users. Then login with those users to get them connected with each others.</p></li> <li><p>Using a HTTP client (for example <a href="https://www.postman.com/" target="_blank" rel="noopener noreferrer">Postman<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>) :</p> <ol><li>In the URL put : <a href="http://localhost/rest/private/connections/birthday" target="_blank" rel="noopener noreferrer">http://localhost/rest/private/connections/birthday<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Use Basic authentication mode, then put the username/password of one of your users</li> <li>You should get a JSON response like in the following image :
<img src="/assets/img/postman-get-connections.e097611f.png" alt="Postman - Get connections"></li></ol></li> <li><p>As you noticed, there is no birthday date for those connections, thus you will need to provide how they can add it to their profiles. You will add a new function to the <strong>MyConnectionsBirthdayRESTService.java</strong> RESTful service that will update users profile with a birthday date. Add the following function to the Restful service :</p></li></ol> <div class="language-java extra-class"><pre class="language-java"><code>     <span class="token comment">// We added POST verb since this function will update data on the server</span>
     <span class="token annotation punctuation">@POST</span>
     <span class="token annotation punctuation">@RolesAllowed</span><span class="token punctuation">(</span><span class="token string">&quot;users&quot;</span><span class="token punctuation">)</span>
     <span class="token keyword">public</span> <span class="token class-name">Response</span> <span class="token function">updateBirthday</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Context</span> <span class="token class-name">SecurityContext</span> securityContext<span class="token punctuation">,</span> <span class="token annotation punctuation">@FormParam</span><span class="token punctuation">(</span><span class="token string">&quot;birthday&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> birthday<span class="token punctuation">,</span><span class="token annotation punctuation">@FormParam</span><span class="token punctuation">(</span><span class="token string">&quot;userName&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> userName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token class-name">String</span> authenticatedUserName <span class="token operator">=</span> securityContext<span class="token punctuation">.</span><span class="token function">getUserPrincipal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>authenticatedUserName<span class="token punctuation">.</span><span class="token function">equalsIgnoreCase</span><span class="token punctuation">(</span>userName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token comment">// Only the user himself is able to update his birthday date</span>
         <span class="token constant">LOG</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;{} could not update the birthday of {}&quot;</span><span class="token punctuation">,</span> authenticatedUserName<span class="token punctuation">,</span> userName<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token keyword">return</span> <span class="token class-name">Response</span><span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token class-name">Response<span class="token punctuation">.</span>Status</span><span class="token punctuation">.</span><span class="token constant">FORBIDDEN</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
         <span class="token keyword">try</span> <span class="token punctuation">{</span>
         <span class="token comment">// Do a parsing to the received date and throw an exception if it is not valid</span>
         <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>birthday<span class="token punctuation">,</span> <span class="token constant">PARSER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token comment">// get the user identity and upda te the profile</span>
         <span class="token class-name">Identity</span> authenticatedUser <span class="token operator">=</span> identityManager<span class="token punctuation">.</span><span class="token function">getOrCreateUserIdentity</span><span class="token punctuation">(</span>authenticatedUserName<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token class-name">Profile</span> authenticatedUserProfile <span class="token operator">=</span> authenticatedUser<span class="token punctuation">.</span><span class="token function">getProfile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token comment">// set the received birthday in the user profile</span>
         authenticatedUserProfile<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token constant">BIRTHDAY_PROPERTY</span><span class="token punctuation">,</span> birthday<span class="token punctuation">)</span><span class="token punctuation">;</span>
         identityManager<span class="token punctuation">.</span><span class="token function">updateProfile</span><span class="token punctuation">(</span>authenticatedUserProfile<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token comment">// Prepare a response with the updated profile of the user</span>
         <span class="token class-name">JSONObject</span> jsonObject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JSONObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         jsonObject<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;userName&quot;</span><span class="token punctuation">,</span> authenticatedUser<span class="token punctuation">.</span><span class="token function">getRemoteId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         jsonObject<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;fullName&quot;</span><span class="token punctuation">,</span> authenticatedUserProfile<span class="token punctuation">.</span><span class="token function">getFullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         jsonObject<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;avatar&quot;</span><span class="token punctuation">,</span> authenticatedUserProfile<span class="token punctuation">.</span><span class="token function">getAvatarUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         jsonObject<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token constant">BIRTHDAY_PROPERTY</span><span class="token punctuation">,</span> authenticatedUserProfile<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token constant">BIRTHDAY_PROPERTY</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token keyword">return</span> <span class="token class-name">Response</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span>jsonObject<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">DateTimeParseException</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token constant">LOG</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;Could not parse date {}&quot;</span><span class="token punctuation">,</span> birthday<span class="token punctuation">,</span> ex<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token keyword">return</span> <span class="token class-name">Response</span><span class="token punctuation">.</span><span class="token function">serverError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token constant">LOG</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;Could not update profile of user {}&quot;</span><span class="token punctuation">,</span> authenticatedUserName<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token keyword">return</span> <span class="token class-name">Response</span><span class="token punctuation">.</span><span class="token function">serverError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
     <span class="token punctuation">}</span> 
</code></pre></div><ol start="12"><li>Rebuild then redeploy the new jar &amp; war in the eXo platform server :</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code>    <span class="token operator">&gt;</span> <span class="token builtin class-name">cd</span> <span class="token variable">$EXO_HOME</span>/sources/my-connections-birthdays-extension
    <span class="token operator">&gt;</span> mvn clean <span class="token function">install</span>
    <span class="token operator">&gt;</span> <span class="token function">cp</span> services/target/my-connections-birthday-services.jar <span class="token variable">$EXO_HOME</span>/lib 
    <span class="token operator">&gt;</span> <span class="token function">cp</span> webapp/target/my-connections-birthday-webapp.war <span class="token variable">$EXO_HOME</span>/webapps
</code></pre></div><ol><li>Start eXo platform containers using docker-compose :<div class="language-shell extra-class"><pre class="language-shell"><code>   <span class="token operator">&gt;</span> <span class="token function">docker-compose</span> <span class="token parameter variable">-f</span> <span class="token variable">$EXO_HOME</span>/docker-compose.yml up
</code></pre></div></li> <li>Using a HTTP client (for example <a href="https://www.postman.com/" target="_blank" rel="noopener noreferrer">Postman<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>) :
<ol><li>In the URL put : <a href="http://localhost/rest/private/connections/birthday" target="_blank" rel="noopener noreferrer">http://localhost/rest/private/connections/birthday<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Use the verb <em>POST</em> instead of <em>GET</em></li> <li>Use Basic authentication mode, then put the username/password of one of your users</li> <li>Fill the form parameters indicating the userName and the birthday of the logged-in user</li> <li>You should get a JSON response like in the following image :
<img src="/assets/img/postman-update-birthday.808518a8.png" alt="Postman - Update Birthday"></li> <li>When calling again the endpoint to get the list of connections, we can see that the birthday of the user was updated
<img src="/assets/img/postman-get-connection-after-update.1e7bebc6.png" alt="Postman - Update Birthday"></li></ol></li></ol> <h2 id="create-a-frontend-applications"><a href="#create-a-frontend-applications" class="header-anchor">#</a> Create a frontend applications</h2> <p>Let's build an application that will consume both REST endpoints above.</p> <ol><li>Update the extension and add files needed to build a new portlet as detailed in <a href="/guide/developer-guide/intermediate-integration/front-end-application.html">Develop a front end application</a> <ol><li>Add the file portlet.xml (XML descriptor of the Portlet) under <em>webapp/src/main/webapp/WEB-INF/</em><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>portlet-app</span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2.0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://java.sun.com/xml/ns/portlet/portlet-app_2_0.xsd<span class="token punctuation">&quot;</span></span>
     <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
     <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://java.sun.com/xml/ns/portlet/portlet-app_2_0.xsd http://java.sun.com/xml/ns/portlet/portlet-app_2_0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- block to define a new portlet--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>portlet</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- Portlet name --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>portlet-name</span><span class="token punctuation">&gt;</span></span>birthdayApplication<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>portlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- Portlet class --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>portlet-class</span><span class="token punctuation">&gt;</span></span>org.exoplatform.commons.api.portlet.GenericDispatchedViewPortlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>portlet-class</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- Parameters needed to initiate the portlet. In this case the path to the HTML file of the VueJS application --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>portlet-view-dispatched-file-path<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>/index.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- supported mimetypes --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>supports</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mime-type</span><span class="token punctuation">&gt;</span></span>text/html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mime-type</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>supports</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- resource bundles for the application to ensure translation of all labels --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource-bundle</span><span class="token punctuation">&gt;</span></span>locale.portlet.birthdayApp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource-bundle</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- Extra information for the portlet --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>portlet-info</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>List of Birthday of my connections<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>portlet-info</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>portlet</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>portlet-app</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li>Add the file <em>gatein-resources.xml</em> (XML descriptor for CSS/JS files) under <em>webapp/src/main/webapp/WEB-INF/</em><div class="language-xml extra-class"><pre class="language-xml"><code>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>gatein-resources</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.exoplatform.org/xml/ns/gatein_resources_1_4
   http://www.exoplatform.org/xml/ns/gatein_resources_1_4<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.exoplatform.org/xml/ns/gatein_resources_1_4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- This block will add a new CSS file that will be loaded in the page
  along with a related portlet (it won't be available for other pages) --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>portlet-skin</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- application name : the display name of the war in web.xml file --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>application-name</span><span class="token punctuation">&gt;</span></span>my-connections-birthday-webapp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>application-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- portlet name defined in portlet.xml file --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>portlet-name</span><span class="token punctuation">&gt;</span></span>birthdayApplication<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>portlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- Skin name : default to Enterprise--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>skin-name</span><span class="token punctuation">&gt;</span></span>Enterprise<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>skin-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- Path to CSS file under this webapp--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>css-path</span><span class="token punctuation">&gt;</span></span>/css/birthdayApp.css<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>css-path</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>portlet-skin</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- This block will add a new JS to the site. This CSS will be loaded in the page
  along with a related portlet (it won't be available for other pages) --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>portlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- portlet name defined in portlet.xml file --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>birthdayApplication<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- JS file will be added as a Javascript module --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- JS is already minified by NPM, no need to minify it again --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>minify</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>minify</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- Path to JS file under this webapp--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span><span class="token punctuation">&gt;</span></span>/js/birthdayApp.bundle.js<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- Javascript dependencies for this JS module --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>depends</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">&gt;</span></span>vue<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>depends</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>depends</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">&gt;</span></span>eXoVueI18n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>depends</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>portlet</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>gatein-resources</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li>Make sure the file <em>web.xml</em> (XML descriptor of Java servlets and filters) contains the declaration of the <strong>ResourceRequestFilter</strong><div class="language-xml extra-class"><pre class="language-xml"><code>  <span class="token comment">&lt;!-- This web filter will load and serve static CSS/JS files according to the declaration in the gatein-resources.xml file --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>ResourceRequestFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">&gt;</span></span>org.exoplatform.portal.application.ResourceRequestFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>ResourceRequestFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li>Under <strong>webapp</strong> We need to add the files for NPM to build our new JS module :
<ol><li><code>.eslintrc.json</code><div class="language-json extra-class"><pre class="language-json"><code>   <span class="token punctuation">{</span>
    <span class="token property">&quot;extends&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;eslint-config-meedsio&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;vue/multi-word-component-names&quot;</span><span class="token operator">:</span> <span class="token string">&quot;off&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;no-prototype-builtins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;warn&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;vue/no-mutating-props&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;warn&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;globals&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div></li> <li><code>webpack.prod.js</code><div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> ESLintPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'eslint-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> VueLoaderPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'vue-loader'</span><span class="token punctuation">)</span>

    <span class="token comment">// the display name of the war</span>
    <span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token string">'my-connections-birthday-webapp'</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">'production'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">context</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.vue$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">'vue-loader'</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">ESLintPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">files</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">'./src/main/webapp/vue-app/*.js'</span><span class="token punctuation">,</span>
            <span class="token string">'./src/main/webapp/vue-app/*.vue'</span><span class="token punctuation">,</span>
            <span class="token string">'./src/main/webapp/vue-app/**/*.js'</span><span class="token punctuation">,</span>
            <span class="token string">'./src/main/webapp/vue-app/**/*.vue'</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">VueLoaderPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">birthdayApp</span><span class="token operator">:</span> <span class="token string">'./src/main/webapp/vue-app/main.js'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">target/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>app<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'js/[name].bundle.js'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">libraryTarget</span><span class="token operator">:</span> <span class="token string">'amd'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">externals</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">vue</span><span class="token operator">:</span> <span class="token string">'Vue'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">vuetify</span><span class="token operator">:</span> <span class="token string">'Vuetify'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">jquery</span><span class="token operator">:</span> <span class="token string">'$'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    module<span class="token punctuation">.</span>exports <span class="token operator">=</span> config<span class="token punctuation">;</span>

</code></pre></div></li> <li><code>webpack.watch.js</code><div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span>merge<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-merge'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> webpackProductionConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./webpack.prod.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// the display name of the war</span>
    <span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token string">'my-connections-birthday-webapp'</span><span class="token punctuation">;</span>

    <span class="token comment">// add the server path to your server location path</span>
    <span class="token keyword">const</span> exoServerPath <span class="token operator">=</span> <span class="token string">&quot;/mnt/work/exo/binaries/snapshots/plf-enterprise-tomcat-standalone-6.4.x-20221008&quot;</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> config <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>webpackProductionConfig<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;development&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>exoServerPath<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/webapps/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>app<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">devtool</span><span class="token operator">:</span> <span class="token string">'inline-source-map'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    module<span class="token punctuation">.</span>exports <span class="token operator">=</span> config<span class="token punctuation">;</span>

</code></pre></div></li> <li><code>package.json</code><div class="language-json extra-class"><pre class="language-json"><code>   <span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;birthdayApp&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eXo portlet for displaying connections with their birthdays&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;repository&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;git&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://github.com/exo-samples/docs-samples&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;watch&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --config webpack.watch.js --progress --color --watch&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;lint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eslint --fix \&quot;./src/main/webapp/vue-app/**\&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;eslint-check&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eslint  \&quot;./src/main/webapp/vue-app/**\&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --config webpack.prod.js --mode production&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eXo&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;LGPL&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;babel-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^8.2.4&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;eslint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^8.12.0&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;eslint-config-meedsio&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.0.4&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;eslint-plugin-vue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^8.6.0&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;eslint-webpack-plugin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.1.1&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;vue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.6.14&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;vue-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^15.9.8&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;vue-template-compiler&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.6.14&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;webpack&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.72.0&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;webpack-cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.9.2&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;webpack-merge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.8.0&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

</code></pre></div></li></ol></li> <li>You add the file <em>index.html</em> under <strong>webapp/src/main/webapp</strong> . This fiile contains the DOM element where tha application will be mounted<div class="language-html extra-class"><pre class="language-html"><code>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>birthdayApp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li>You add the file <em>birthdayApp.css</em> under <strong>webapp/src/main/webapp/css</strong> , you can customize the CSS of the application using it<div class="language-css extra-class"><pre class="language-css"><code>    <span class="token selector">#birthdayAppMain</span> <span class="token punctuation">{</span>
     <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
     <span class="token property">background</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
     <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
     <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
     <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
     <span class="token property">padding</span><span class="token punctuation">:</span> 0 0 20px 0<span class="token punctuation">;</span>
     <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token selector">#birthday-list</span> <span class="token punctuation">{</span>
     <span class="token property">min-width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token selector">#birthday-list input</span> <span class="token punctuation">{</span>
     <span class="token property">width</span><span class="token punctuation">:</span> 80%<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token selector">.birthday-app-title</span> <span class="token punctuation">{</span>
     <span class="token property">font-size</span><span class="token punctuation">:</span> 1.25rem <span class="token important">!important</span><span class="token punctuation">;</span>
     <span class="token property">font-weight</span><span class="token punctuation">:</span> 500<span class="token punctuation">;</span>
     <span class="token property">line-height</span><span class="token punctuation">:</span> 2rem<span class="token punctuation">;</span>
     <span class="token property">letter-spacing</span><span class="token punctuation">:</span> 0.0125em <span class="token important">!important</span><span class="token punctuation">;</span>
     <span class="token property">color</span><span class="token punctuation">:</span> #5f708a<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
</code></pre></div></li> <li>Create the application folder <em>vue-app</em> under <strong>webapp/src/main/webapp/</strong>. Inside it, add the files of the VueJS application :
<ol><li><code>main.js</code> : the entry point for the application<div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> <span class="token string">'./initComponents.js'</span><span class="token punctuation">;</span> <span class="token comment">// initialize other VueJS components</span>
  <span class="token keyword">import</span> app <span class="token keyword">from</span> <span class="token string">'./components/birthdayAppMain.vue'</span><span class="token punctuation">;</span> <span class="token comment">// import the main VueJS application</span>

  <span class="token comment">// Get the user language</span>
  <span class="token keyword">const</span> lang <span class="token operator">=</span> eXo <span class="token operator">&amp;&amp;</span> eXo<span class="token punctuation">.</span>env <span class="token operator">&amp;&amp;</span> eXo<span class="token punctuation">.</span>env<span class="token punctuation">.</span>portal <span class="token operator">&amp;&amp;</span> eXo<span class="token punctuation">.</span>env<span class="token punctuation">.</span>portal<span class="token punctuation">.</span>language <span class="token operator">||</span> <span class="token string">'en'</span><span class="token punctuation">;</span>

  <span class="token comment">// Get the name of the resource bundle</span>
  <span class="token keyword">const</span> resourceBundleName <span class="token operator">=</span> <span class="token string">'locale.portlet.birthdayApp'</span><span class="token punctuation">;</span>

  <span class="token comment">// Get the URL to load the resource bundles</span>
  <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>eXo<span class="token punctuation">.</span>env<span class="token punctuation">.</span>portal<span class="token punctuation">.</span>context<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>eXo<span class="token punctuation">.</span>env<span class="token punctuation">.</span>portal<span class="token punctuation">.</span>rest<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/i18n/bundle/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>resourceBundleName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lang<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.json</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

  <span class="token comment">// getting the resource bundles</span>
  exoi18n<span class="token punctuation">.</span><span class="token function">loadLanguageAsync</span><span class="token punctuation">(</span>lang<span class="token punctuation">,</span> url<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">i18n</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// init Vue app when locale resources are ready</span>
      <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">,</span>
        i18n
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#birthdayApp'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// mount the application on the HTML element with id = 'vue_webpack_sample'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><code>initComponents.js</code> : JS file used to import all the VueJS components we are about to create<div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">import</span> birthdayAppMain <span class="token keyword">from</span> <span class="token string">'./components/birthdayAppMain.vue'</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> birthdayConnectionsList <span class="token keyword">from</span> <span class="token string">'./components/connectionsList.vue'</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> components <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string-property property">'birthday-main'</span><span class="token operator">:</span> birthdayAppMain<span class="token punctuation">,</span>
    <span class="token string-property property">'birthday-connections-list'</span><span class="token operator">:</span> birthdayConnectionsList<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> components<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> components<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

</code></pre></div></li> <li><code>components/birthdayAppMain.vue</code> : Main component for our application<div class="language-js extra-class"><pre class="language-js"><code>  <span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;birthdayAppMain&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;birthday-app-title&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token function">$t</span><span class="token punctuation">(</span><span class="token string">'birthdayApp.i18n.label'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>birthday<span class="token operator">-</span>connections<span class="token operator">-</span>list birthday<span class="token operator">-</span>items<span class="token operator">=</span><span class="token string">&quot;&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre></div></li> <li><code>components/connectionsList.vue</code> : this is the component that will
<ol><li>Provide a date input so the user can add his birthday, then a call to the REST endpoint we already created in the first part of this tutorial will update the information in the server</li> <li>Provide a list of connections with their birthday dates using a call to the REST endpoint</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;birthday-list&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;alert-error&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>errorMessage <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;alert-success&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>successMessage <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>input
        type<span class="token operator">=</span><span class="token string">&quot;date&quot;</span>
        <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;birthday-date&quot;</span>
        v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;birthdayDate&quot;</span>
        @keyup<span class="token punctuation">.</span>enter<span class="token operator">=</span><span class="token string">&quot;saveBirthday&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">&quot;saveBirthday&quot;</span> type<span class="token operator">=</span><span class="token string">&quot;button&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token function">$t</span><span class="token punctuation">(</span><span class="token string">'birthdayApp.i18n.OK'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>li v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(item, index) in birthdayItems&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;index&quot;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.birthday&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>a <span class="token operator">:</span>href<span class="token operator">=</span><span class="token string">&quot;userProfileURL(item.userName)&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>img
                width<span class="token operator">=</span><span class="token string">&quot;25&quot;</span>
                height<span class="token operator">=</span><span class="token string">&quot;25&quot;</span>
                <span class="token operator">:</span>src<span class="token operator">=</span><span class="token string">&quot;item.avatar&quot;</span>
                <span class="token operator">:</span>alt<span class="token operator">=</span><span class="token string">&quot;`Avatar of ${item.fullName}`&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>span <span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">&quot;'item-' + index&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> item<span class="token punctuation">.</span>fullName <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>span <span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">&quot;'item-' + index&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> item<span class="token punctuation">.</span>birthday <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">data</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">birthdayItems</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">successMessage</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      <span class="token literal-property property">errorMessage</span><span class="token operator">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>eXo<span class="token punctuation">.</span>env<span class="token punctuation">.</span>portal<span class="token punctuation">.</span>context<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>eXo<span class="token punctuation">.</span>env<span class="token punctuation">.</span>portal<span class="token punctuation">.</span>rest<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/connections/birthday</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">credentials</span><span class="token operator">:</span> <span class="token string">'include'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">resp</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>resp <span class="token operator">||</span> <span class="token operator">!</span>resp<span class="token punctuation">.</span>ok<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Response code indicates a server error'</span><span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> resp<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>birthdayItems <span class="token operator">=</span> data<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">saveBirthday</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>eXo<span class="token punctuation">.</span>env<span class="token punctuation">.</span>portal<span class="token punctuation">.</span>context<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>eXo<span class="token punctuation">.</span>env<span class="token punctuation">.</span>portal<span class="token punctuation">.</span>rest<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/connections/birthday</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">credentials</span><span class="token operator">:</span> <span class="token string">'include'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">birthday=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>birthdayDate<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;userName=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>eXo<span class="token punctuation">.</span>env<span class="token punctuation">.</span>portal<span class="token punctuation">.</span>userName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
          <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string-property property">'Content-Type'</span><span class="token operator">:</span> <span class="token string">'application/x-www-form-urlencoded'</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">resp</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>resp <span class="token operator">||</span> <span class="token operator">!</span>resp<span class="token punctuation">.</span>ok<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>errorMessage <span class="token operator">=</span> <span class="token string">'An error happened when updating birthday'</span><span class="token punctuation">;</span>
            <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>errorMessage <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Response code indicates a server error'</span><span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> resp<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>successMessage <span class="token operator">=</span> <span class="token string">'Birthday updated successfully!'</span><span class="token punctuation">;</span>
          <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>successMessage <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">userProfileURL</span><span class="token punctuation">(</span><span class="token parameter">userName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> userName <span class="token operator">&amp;&amp;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/portal/dw/profile/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>userName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token operator">||</span> <span class="token string">'#'</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div></li></ol></li> <li>All the files are here, you can build and deploy the updated war file<div class="language-shell extra-class"><pre class="language-shell"><code>   <span class="token operator">&gt;</span> mvn clean package
   <span class="token operator">&gt;</span> <span class="token function">cp</span> webapp/target/my-connections-birthday-webapp.war <span class="token variable">$EXO_HOME</span>/webapps
   <span class="token operator">&gt;</span> <span class="token function">docker-compose</span> <span class="token parameter variable">-f</span> docker-compose.yml up
</code></pre></div></li> <li>Here is a video showing how to add the application in a page and how it should look like
<video width="640" height="480" controls="controls"><source src="/vids/create-rest-service/add-birthday-app-to-new-page.mp4" type="video/mp4"></video></li></ol></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      
      <a href="/guide/developer-guide/intermediate-integration/front-end-application.html" class="prev">
        Develop a front end application
      </a></span> <span class="next"><a href="/guide/openapi/agenda.html">
        Agenda REST Api
      </a>
      
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.566fc5fe.js" defer></script><script src="/assets/js/2.a6004e7f.js" defer></script><script src="/assets/js/1.298b45b6.js" defer></script><script src="/assets/js/20.e735bd74.js" defer></script>
  </body>
</html>
