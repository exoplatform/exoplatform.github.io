<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Configuration | eXo developers documentation</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="eXo documentation">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.aefff845.css" as="style"><link rel="preload" href="/assets/js/app.566fc5fe.js" as="script"><link rel="preload" href="/assets/js/2.a6004e7f.js" as="script"><link rel="preload" href="/assets/js/1.298b45b6.js" as="script"><link rel="preload" href="/assets/js/30.5235d8d8.js" as="script"><link rel="prefetch" href="/assets/js/10.225b8ad6.js"><link rel="prefetch" href="/assets/js/11.fcfda894.js"><link rel="prefetch" href="/assets/js/12.8288d633.js"><link rel="prefetch" href="/assets/js/13.61c54a2f.js"><link rel="prefetch" href="/assets/js/14.c8220840.js"><link rel="prefetch" href="/assets/js/15.cf0e000a.js"><link rel="prefetch" href="/assets/js/16.12acf4f0.js"><link rel="prefetch" href="/assets/js/17.60e99e03.js"><link rel="prefetch" href="/assets/js/18.402065f0.js"><link rel="prefetch" href="/assets/js/19.4cde00c8.js"><link rel="prefetch" href="/assets/js/20.e735bd74.js"><link rel="prefetch" href="/assets/js/21.4d9631b7.js"><link rel="prefetch" href="/assets/js/22.38c3a0bb.js"><link rel="prefetch" href="/assets/js/23.96cba659.js"><link rel="prefetch" href="/assets/js/24.6a323bb6.js"><link rel="prefetch" href="/assets/js/25.d314e852.js"><link rel="prefetch" href="/assets/js/26.781556fb.js"><link rel="prefetch" href="/assets/js/27.db2034f7.js"><link rel="prefetch" href="/assets/js/28.bdd32a1a.js"><link rel="prefetch" href="/assets/js/29.7705a494.js"><link rel="prefetch" href="/assets/js/3.535cbfb5.js"><link rel="prefetch" href="/assets/js/31.12dc91a0.js"><link rel="prefetch" href="/assets/js/32.7b9193b7.js"><link rel="prefetch" href="/assets/js/33.d786c476.js"><link rel="prefetch" href="/assets/js/34.82a8e2bb.js"><link rel="prefetch" href="/assets/js/35.bfed5ce5.js"><link rel="prefetch" href="/assets/js/36.08aae2f6.js"><link rel="prefetch" href="/assets/js/37.7c5839ea.js"><link rel="prefetch" href="/assets/js/38.5a9c6f81.js"><link rel="prefetch" href="/assets/js/39.64b36a7a.js"><link rel="prefetch" href="/assets/js/4.36aa3fdb.js"><link rel="prefetch" href="/assets/js/40.91490da1.js"><link rel="prefetch" href="/assets/js/41.1bb028a9.js"><link rel="prefetch" href="/assets/js/42.2b2e6226.js"><link rel="prefetch" href="/assets/js/43.3eb1d2ff.js"><link rel="prefetch" href="/assets/js/44.aff75618.js"><link rel="prefetch" href="/assets/js/45.ae4c3883.js"><link rel="prefetch" href="/assets/js/46.c22a02ed.js"><link rel="prefetch" href="/assets/js/47.c2a86641.js"><link rel="prefetch" href="/assets/js/48.49f8e4ff.js"><link rel="prefetch" href="/assets/js/49.ef6e633d.js"><link rel="prefetch" href="/assets/js/5.8d70814d.js"><link rel="prefetch" href="/assets/js/50.82b2cb38.js"><link rel="prefetch" href="/assets/js/51.26af3c19.js"><link rel="prefetch" href="/assets/js/52.f2d45ccb.js"><link rel="prefetch" href="/assets/js/53.ecd43fd3.js"><link rel="prefetch" href="/assets/js/54.17169cc4.js"><link rel="prefetch" href="/assets/js/55.12746217.js"><link rel="prefetch" href="/assets/js/56.77bdaee4.js"><link rel="prefetch" href="/assets/js/57.0b269ef5.js"><link rel="prefetch" href="/assets/js/58.f7328ad9.js"><link rel="prefetch" href="/assets/js/59.5a4f9f04.js"><link rel="prefetch" href="/assets/js/6.477d5345.js"><link rel="prefetch" href="/assets/js/60.30d9251f.js"><link rel="prefetch" href="/assets/js/61.8b948aa3.js"><link rel="prefetch" href="/assets/js/62.5a0f0c07.js"><link rel="prefetch" href="/assets/js/63.e454eff4.js"><link rel="prefetch" href="/assets/js/64.a49d269e.js"><link rel="prefetch" href="/assets/js/65.bfc4b138.js"><link rel="prefetch" href="/assets/js/66.25150fb5.js"><link rel="prefetch" href="/assets/js/67.f5cc4cec.js"><link rel="prefetch" href="/assets/js/68.765560e5.js"><link rel="prefetch" href="/assets/js/69.1b311bba.js"><link rel="prefetch" href="/assets/js/7.75df615e.js"><link rel="prefetch" href="/assets/js/70.1d2c355e.js"><link rel="prefetch" href="/assets/js/71.764ddbf9.js"><link rel="prefetch" href="/assets/js/72.45bf8487.js"><link rel="prefetch" href="/assets/js/73.5834c41d.js"><link rel="prefetch" href="/assets/js/74.981741a8.js"><link rel="prefetch" href="/assets/js/75.60c0af0f.js"><link rel="prefetch" href="/assets/js/76.44b7b182.js"><link rel="prefetch" href="/assets/js/77.d4e20165.js"><link rel="prefetch" href="/assets/js/78.c33db6b5.js"><link rel="prefetch" href="/assets/js/79.c55e2cf6.js"><link rel="prefetch" href="/assets/js/80.3da0ce0e.js"><link rel="prefetch" href="/assets/js/81.09e71458.js"><link rel="prefetch" href="/assets/js/82.d36b7bb4.js"><link rel="prefetch" href="/assets/js/83.102fdcea.js"><link rel="prefetch" href="/assets/js/84.8a64b178.js"><link rel="prefetch" href="/assets/js/85.fed6c251.js"><link rel="prefetch" href="/assets/js/86.70751800.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.f3569c9a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.aefff845.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">eXo developers documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/getting-started/Introduction.html" class="nav-link">
  Getting Started
</a></div><div class="nav-item"><a href="/administration/" class="nav-link router-link-active">
  Technical Administration
</a></div><div class="nav-item"><a href="/guide/developer-guide/rest-api.html" class="nav-link">
  REST API
</a></div><div class="nav-item"><a href="https://github.com/exoplatform/exo-community/discussions" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Q&amp;A
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/getting-started/Introduction.html" class="nav-link">
  Getting Started
</a></div><div class="nav-item"><a href="/administration/" class="nav-link router-link-active">
  Technical Administration
</a></div><div class="nav-item"><a href="/guide/developer-guide/rest-api.html" class="nav-link">
  REST API
</a></div><div class="nav-item"><a href="https://github.com/exoplatform/exo-community/discussions" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Q&amp;A
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/administration/" class="sidebar-heading clickable router-link-active open"><span>Technical Administration Guide</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/administration/configuration.html" aria-current="page" class="active sidebar-link">Configuration</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/administration/configuration.html#configuration-overview" class="sidebar-link">Configuration overview</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#exo-platform-configuration" class="sidebar-link">eXo Platform configuration</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#properties-reference" class="sidebar-link">Properties reference</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#configure-username-case-sensitive" class="sidebar-link">Configure username case sensitive</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#user-inactivity-delay-configuration" class="sidebar-link">User inactivity delay configuration</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#data-directory-configuration" class="sidebar-link">Data directory configuration</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#assets-version-configuration" class="sidebar-link">Assets version configuration</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#quartz-scheduler-configuration" class="sidebar-link">Quartz Scheduler configuration</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#configure-documents-multiupload-in-the-activity-stream" class="sidebar-link">Configure documents multiupload in the activity stream</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#transaction-service" class="sidebar-link">Transaction service</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#server-base-url" class="sidebar-link">Server base URL</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#account-setup" class="sidebar-link">Account setup</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#custom-data-validators-configuration" class="sidebar-link">Custom data validators configuration</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#outgoing-mail-service" class="sidebar-link">Outgoing mail service</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#subscribing-to-notifications-of-document-changes" class="sidebar-link">Subscribing to notifications of document changes</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#webdav-configuration" class="sidebar-link">WebDAV configuration</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#secure-the-listing-of-the-contents-of-jcr-folders-through-webdav" class="sidebar-link">Secure the listing of the contents of JCR folders through Webdav</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#jodconverter-configuration" class="sidebar-link">JODConverter configuration</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#limiting-public-access-to-the-upload-service" class="sidebar-link">Limiting public access to the upload service</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#customizing-site-data" class="sidebar-link">Customizing site data</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#configure-spaces-administration-group" class="sidebar-link">Configure spaces administration group</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#logs" class="sidebar-link">Logs</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#hibernate-properties-for-jpa" class="sidebar-link">Hibernate properties for JPA</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#jcr-configuration" class="sidebar-link">JCR Configuration</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#cache-configuration" class="sidebar-link">Cache configuration</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#elasticsearch-configuration" class="sidebar-link">Elasticsearch Configuration</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#cometd" class="sidebar-link">CometD</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#youtube-integration" class="sidebar-link">Youtube integration</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#notification" class="sidebar-link">Notification</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#document-versioning" class="sidebar-link">Document versioning</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#document-viewer" class="sidebar-link">Document Viewer</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#forgot-password" class="sidebar-link">Forgot Password</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#password-encryption" class="sidebar-link">Password Encryption</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#task-management" class="sidebar-link">Task Management</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#chat-configuration" class="sidebar-link">Chat Configuration</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#configuring-exo-web-conferencing" class="sidebar-link">Configuring eXo Web Conferencing</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#update-of-last-login-time" class="sidebar-link">Update of last login time</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#enabling-disabling-login-history" class="sidebar-link">Enabling/Disabling login history</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#configuring-exo-wallet" class="sidebar-link">Configuring eXo Wallet</a></li><li class="sidebar-sub-header"><a href="/administration/configuration.html#trashcleaner-job" class="sidebar-link">TrashCleaner Job</a></li></ul></li><li><a href="/administration/database.html" class="sidebar-link">Database</a></li><li><a href="/administration/backup-restore.html" class="sidebar-link">Backup and Restore</a></li><li><a href="/administration/indexing.html" class="sidebar-link">Indexing</a></li><li><a href="/administration/LDAP.html" class="sidebar-link">LDAP Integration</a></li><li><a href="/administration/oauth-integration.html" class="sidebar-link">OAuth Integration</a></li><li><a href="/administration/saml-integration.html" class="sidebar-link">SAML Integration</a></li><li><a href="/administration/addons-management.html" class="sidebar-link">Add-ons Management</a></li><li><a href="/administration/security.html" class="sidebar-link">Security</a></li><li><a href="/administration/jmx-rest-management.html" class="sidebar-link">JMX/REST Management</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="configuration"><a href="#configuration" class="header-anchor">#</a> Configuration</h1> <p>This chapter covers the following topics:</p> <h2 id="configuration-overview"><a href="#configuration-overview" class="header-anchor">#</a> Configuration overview</h2> <p>In eXo Platform, a lot of configuration options are customizable via
properties. If you want to change the default configurations of eXo
Platform, simply do as follows:</p> <ol><li>Create your own <code>.properties</code> file that must be named
<code>exo.properties</code>. This file contains all configurations to be customized: <code>$PLATFORM_TOMCAT_HOME/gatein/conf/exo.properties</code>. A <code>.properties</code> file has no header, so you do not need to preserve the header. You can refer to <code>exo-sample.properties</code> that is provided by default but has no effect on the eXo Platform configuration. This default file exposes all properties you can override or extend, but in comments (#). Instead of creating new, you can rename <code>exo-sample.properties</code> into <code>exo.properties</code>, then make changes on your needed properties and remove their comments.</li> <li>Add configurations to be customized in <code>exo.properties</code>. Pay attention to the followings:
<ul><li>Each property is defined on one line that conforms to the syntax: <em>property_name=property_value</em>.</li> <li>Order of the property lines does not take any effect, but it is important that you use the exact key of each property in<code>exo.properties</code> that is already exposed in <code>exo-sample.properties</code> or listed in this chapter. The usage of properties and their keys are detailed in the later sections.</li> <li>The text before the equal sign is the key that you should not change and the text after the equal sign is the property's value that you can edit.</li></ul></li> <li>Save and restart the eXo Platform server for your changes to take effect.</li></ol> <p>Besides the capability of customizing configurations in <code>exo.properties</code>, you can follow in another way by adding a system property, either in <code>bin/setenv-customize.sample.(sh|bat)</code> or <code>bin/standalone-customize.sample.conf(.bat)</code>, or in any your custom scripts.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>There are some configuration properties that will not be configurable by the system property but in <code>exo.properties</code> only, including:</p> <ul><li><code>exo.jcr.cluster.jgroups.config</code></li> <li><code>exo.service.cluster.jgroups.config</code></li> <li><code>exo.jcr.cache.config</code></li> <li><code>exo.jcr.cache.config.workspace.portal-system</code></li> <li><code>exo.jcr.lock.cache.config</code></li> <li><code>exo.jcr.index.cache.config</code></li> <li><code>exo.cache.config.template</code></li></ul></div> <h2 id="exo-platform-configuration"><a href="#exo-platform-configuration" class="header-anchor">#</a> eXo Platform configuration</h2> <p>In eXo Platform, almost all configurations are performed in a folder
that is controlled by a system property named <strong>exo.conf.dir</strong>. This
property is set by <code>setenv.*</code> scripts.</p> <p>The default value of <strong>exo.conf.dir</strong> is:
<code>$PLATFORM_TOMCAT_HOME/gatein/conf</code>.</p> <p>That folder contains the following main files that you need to take
care: <code>exo.properties</code> (if you need to override the eXo Platform
configurations); <code>configuration.xml</code> and
<code>portal/${PORTAL_NAME}/configuration.xml</code> (if having the ${PORTAL_NAME}
portal container).</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>The xml configuration is mainly done during the development phase, whereas the configuration in <code>exo.properties</code> targets the deployment phase. So configurations that you want to customize should be done in the <code>exo.properties</code> file.</p></div> <p>To understand more clearly the role of those files, let's begin with the portal container concept.</p> <p>The eXo Platform Kernel collects runtime components in the portal containers. A portal container holds all components to run a portal instance. It serves pages under the servlet context for its name.</p> <p>The default portal container in eXo Platform is called &quot;portal&quot;. This explains why the default URL of the samples is <a href="http://localhost:8080/portal" target="_blank" rel="noopener noreferrer">http://localhost:8080/portal<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. The default portal container can be configured directly inside <strong>exo.conf.dir</strong>.</p> <p>eXo Platform is capable of running several portal instances simultaneously on the same server. Each instance can be configured and customized independently via files located at: <code>portal/${PORTAL_NAME}</code> (under <strong>exo.conf.dir</strong>), where <strong>${PORTAL_NAME}</strong> is the name of the portal container.</p> <p>Services that run inside a portal container are declared via the xml configuration files like <code>configuration.xml</code>. Such files exist in jars, wars and below <strong>exo.conf.dir</strong>.</p> <p>The <code>.xml</code> configuration files also serve as the main way to customize the portal via the multiple plugins offered by the eXo Platform components.</p> <p>Additionally, the <code>.xml</code> files may contain variables that are populated via properties defined in <code>exo.properties</code>. Hence, the <code>exo.properties</code> file serves as exposing some selected variables that are necessary to configure eXo Platform in a server environment.</p> <h3 id="exo-properties"><a href="#exo-properties" class="header-anchor">#</a> exo.properties</h3> <p>This file can be added to easily override or extend configurations of eXo Platform. The important variables that can be overridden are exposed in a sample properties file named <code>exo-sample.properties</code>, but in comments.</p> <h3 id="configuration-xml"><a href="#configuration-xml" class="header-anchor">#</a> configuration.xml</h3> <p>This file contains the built-in configuration for the <strong>portal</strong> portal container.</p> <ul><li>In most cases, you should not change this file.</li> <li>In case you do not want to use &quot;portal&quot; as the default portal for your project, this file can be used to import another PortalContainerDefinition into the root container.</li></ul> <h3 id="portal-portal-configuration-xml"><a href="#portal-portal-configuration-xml" class="header-anchor">#</a> portal/portal/configuration.xml</h3> <p>The extra configuration for the ${PORTAL_NAME} portal container if any.
This is where further customizations (for ${PORTAL_NAME} portal
container) can be placed. Generally, custom configurations are provided by extension wars. However, this file is the last loaded by Kernel. It has a higher priority over any other configuration files, including extensions. So, you can override any internal component configuration.</p> <p>This may turn handy services or configurations that are not exposed in <code>exo.properties</code>.</p> <h2 id="properties-reference"><a href="#properties-reference" class="header-anchor">#</a> Properties reference</h2> <p>This page is a reference to configurations exposed via <code>exo.properties</code>.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>This is not an exhaustive list. Some properties are not documented in this chapter, because they are extremely rarely used by administrators. If the property you are searching for is not here, search it in the whole documentation and raise a question in <a href="https://github.com/exoplatform/exo-community/discussions" target="_blank" rel="noopener noreferrer">Community Discussions<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, if necessary.</p></div> <h3 id="platform"><a href="#platform" class="header-anchor">#</a> Platform</h3> <table><thead><tr><th>Name</th> <th>Description</th> <th>Default</th></tr></thead> <tbody><tr><td><code>exo.base.url</code></td> <td></td> <td></td></tr> <tr><td>`exo.accountsetup.skip</td> <td>Skips &quot;account</td> <td>false</td></tr> <tr><td><code>exo.super.user</code></td> <td>Super user of the platform</td> <td>root</td></tr> <tr><td><code>exo.portal.resetpassword.expiretime</code></td> <td>The expiration time of a reset password link</td> <td>24 (hours)</td></tr></tbody></table> <h3 id="search-connector"><a href="#search-connector" class="header-anchor">#</a> Search connector</h3> <table><thead><tr><th>Name</th> <th>Description</th> <th>Default</th></tr></thead> <tbody><tr><td>exo.[searchConnectorName].connector.[informationType].enable</td> <td>Turn on/off a specific Search connector for a certain information type.</td> <td>true</td></tr> <tr><td>exo.unified-search.indexing.file.maxSize</td> <td>Maximum size of files to index</td> <td>20 MB</td></tr> <tr><td>exo.unified-search.indexing.supportedMimeTypes</td> <td>List of indexed file Types</td> <td></td></tr></tbody></table> <h3 id="unified-search"><a href="#unified-search" class="header-anchor">#</a> Unified Search</h3> <table><thead><tr><th>Name</th> <th>Description</th> <th>Default</th></tr></thead> <tbody><tr><td>`exo.unified-search.engine.fuzzy.enable</td> <td>Enable fuzzy search or not?</td> <td>true</td></tr> <tr><td>`exo.unified-search.engine.fuzzy.similarity</td> <td>A float number between 0 and 1 expressing how much a returned word matches the keyword. 1 is exact search.</td> <td>0.5</td></tr> <tr><td>exo.unified-search.excluded-characters</td> <td>List of characters that will not be indexed (so could not be searched).</td> <td><code>.-</code></td></tr></tbody></table> <h3 id="jcr"><a href="#jcr" class="header-anchor">#</a> JCR</h3> <table><thead><tr><th>Name</th> <th>Description</th> <th>Default</th></tr></thead> <tbody><tr><td>exo.jcr.datasource.dialect</td> <td>most cases the dialect is auto-detected. Follow the link to know exceptions.</td> <td>auto</td></tr> <tr><td>exo.jcr.storage.enabled</td> <td>Enable file system storage for JCR values?</td> <td>true</td></tr> <tr><td></td> <td></td> <td></td></tr></tbody></table> <h3 id="ecms"><a href="#ecms" class="header-anchor">#</a> ECMS</h3> <table><thead><tr><th>Name</th> <th>Description</th> <th>Default</th></tr></thead> <tbody><tr><td>exo.ecms.connector.drives.uploadLimit</td> <td>Maximum size (in MB) allowed of an uploaded file.</td> <td>200</td></tr> <tr><td>exo.portal.uploadhandler.public-restriction</td> <td>Turn on/off public access to the upload service.</td> <td>true</td></tr> <tr><td>exo.ecms.connector.drives.clientLimit</td> <td>The maximum number of concurrent uploaded files in client side.</td> <td>3</td></tr> <tr><td>exo.ecms.connector.drives.serverLimit</td> <td>The maximum number of concurrent uploaded files in server side.</td> <td>20</td></tr> <tr><td>exo.ecms.search.excluded-mimetypes</td> <td>Content of these mimetypes will not be searched.</td> <td>text/css, text/javascript, text/ecmascript</td></tr> <tr><td>exo.ecms.search.enableFuzzySearch</td> <td>Enable fuzzy search or not?</td> <td>true</td></tr> <tr><td>exo.ecms.search.fuzzySearchIndex</td> <td>A float number between 0 and 1 expressing how much a returned word matches the search keyword. 1 means extact search</td> <td>0.8</td></tr> <tr><td>exo.ecms.lock.admin</td> <td>Users or groups whop can manage locks</td> <td>*:/platform/administrators</td></tr> <tr><td>exo.ecms.friendly.enabled</td> <td>Enable friendly URL maker or not?</td> <td>true</td></tr> <tr><td>exo.ecms.friendly.servletName</td> <td>The friendly name used when making friendly URLs</td> <td>content</td></tr> <tr><td>exo.ecms.document.thumbnails.enabled</td> <td>Enable Thumbnail Icon for office documents and images</td> <td>true</td></tr></tbody></table> <h4 id="ecms-watch-document"><a href="#ecms-watch-document" class="header-anchor">#</a> ECMS Watch Document</h4> <table><thead><tr><th>Name</th> <th>Description</th> <th>Default</th></tr></thead> <tbody><tr><td>exo.ecms.watchdocument.sender</td> <td>The &quot;from&quot; field in the emails.</td> <td>support@exoplatform.com</td></tr> <tr><td>exo.ecms.watchdocument.subject</td> <td>The subject of the notification emails.</td> <td>“Your watching document is changed”</td></tr> <tr><td>exo.ecms.watchdocument.mimetype</td> <td>Mimetype of the message body.</td> <td>text/html</td></tr> <tr><td>exo.ecms.watchdocument.content</td> <td>The message body.</td> <td>Check it yourself in exo-sample.properties</td></tr></tbody></table> <h4 id="ecms-document-versioning"><a href="#ecms-document-versioning" class="header-anchor">#</a> ECMS Document versioning</h4> <table><thead><tr><th>Name</th> <th>Description</th> <th>Default</th></tr></thead> <tbody><tr><td>exo.ecms.documents.versioning</td> <td>The drives that are enabled for Document versioning.</td> <td>Managed Sites,Groups,Personal</td></tr> <tr><td>exo.ecms.documents.versions.max</td> <td>The max number of versions that a document can have.</td> <td>0 (no limit)</td></tr> <tr><td>exo.ecms.documents.versions.expiration</td> <td>The expiration time (in days) of a document version.</td> <td>0 (no limit)</td></tr></tbody></table> <h4 id="ecms-document-viewer"><a href="#ecms-document-viewer" class="header-anchor">#</a> ECMS Document viewer</h4> <table><thead><tr><th>Name</th> <th>Description</th> <th>Default</th></tr></thead> <tbody><tr><td>exo.ecms.documents.pdfviewer.max-file-size</td> <td>Max file size of documents for preview, in MB</td> <td>10</td></tr> <tr><td>exo.ecms.documents.pdfviewer.max-pages</td> <td>Max number of pages of documents for preview</td> <td>99</td></tr></tbody></table> <h4 id="site-metadata"><a href="#site-metadata" class="header-anchor">#</a> Site metadata</h4> <table><thead><tr><th>Name</th> <th>Description</th> <th>Default</th></tr></thead> <tbody><tr><td>exo.dw.portalConfig.metadata.override</td> <td>Don’t change this unless you customize the DW site.</td> <td>false</td></tr> <tr><td>exo.dw.portalConfig.metadata.importmode</td> <td>Don’t change this unless you customize the DW site.</td> <td>insert</td></tr></tbody></table> <h4 id="datasource"><a href="#datasource" class="header-anchor">#</a> Datasource</h4> <table><thead><tr><th>Name</th> <th>Description</th> <th>Default</th></tr></thead> <tbody><tr><td>exo.jcr.datasource.name</td> <td>JCR datasource name.</td> <td>java:/comp/env/exo-jcr</td></tr> <tr><td>exo.idm.datasource.name</td> <td>IDM datasource name.</td> <td>java:/comp/env/exo-idm</td></tr></tbody></table> <h4 id="clustering"><a href="#clustering" class="header-anchor">#</a> Clustering</h4> <table><thead><tr><th>Name</th> <th>Description</th> <th>Default</th></tr></thead> <tbody><tr><td>exo.cluster.partition.name</td> <td>Give a string to identify your cluster, to avoid conflict with other clusters in the network.</td> <td>DefaultPartition</td></tr> <tr><td>exo.jcr.cluster.jgroups.tcp.*</td> <td>JGroups configuration for JCR using TCP.</td> <td></td></tr> <tr><td>exo.jcr.cluster.jgroups.udp.*</td> <td>JGroups configuration for JCR using UPD.</td> <td></td></tr> <tr><td>exo.service.cluster.jgroups.tcp*</td> <td>JGroups configuration for Service layer caches clustering using TCP.</td> <td></td></tr> <tr><td>exo.service.cluster.jgroups.udp.*</td> <td>JGroups configuration for Service layer caches clustering using UDP.</td> <td></td></tr> <tr><td>exo.jcr.cluster.jgroups.config</td> <td>Path to customized JGroups configuration file, applied to JCR.</td> <td></td></tr> <tr><td>exo.jcr.cluster.jgroups.config-url</td> <td>URL to your customized JGroups configuration file, applied to JCR.</td> <td></td></tr> <tr><td>exo.service.cluster.jgroups.config</td> <td>Path to your customized JGroups configuration file, applied to Service layer caches.</td> <td></td></tr></tbody></table> <h3 id="elasticsearch-properties"><a href="#elasticsearch-properties" class="header-anchor">#</a> Elasticsearch Properties</h3> <table><thead><tr><th>Name</th> <th>Description</th> <th>Default</th></tr></thead> <tbody><tr><td>exo.es.version.minor</td> <td>The expected minor Elastisearch version compatible with eXo Platform.</td> <td>5.6</td></tr> <tr><td>es.cluster.name</td> <td>Cluster name identifies your Elasticsearch clusterfor auto-discovery. If you're running multiple clusters on the same network, make sure you're using unique names.</td> <td>exoplatform-es</td></tr> <tr><td>es.network.host and 'publish_host'</td> <td>Sets both 'bind_host' params. More details <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-network.html#advanced-network-settings" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>127.0.0.1</td></tr> <tr><td>es.discovery.zen.ping.unicast.hosts</td> <td>In Unicast dicovery mode, this parameter lets you set a list of master nodes in the cluster to perform discovery when new nodes (master or data) are started.</td> <td>127.0.0.1</td></tr> <tr><td>es.http.port</td> <td>TCP Port of the ES node.</td> <td>9200</td></tr> <tr><td>es.path.data</td> <td>Local path to the directory where to Elasticsearch will store index data allocated for this node.</td> <td>gatein/data</td></tr></tbody></table> <h4 id="elasticsearch-client"><a href="#elasticsearch-client" class="header-anchor">#</a> Elasticsearch Client</h4> <table><thead><tr><th>Name</th> <th>Description</th> <th>Default</th></tr></thead> <tbody><tr><td>exo.es.search.server.url</td> <td>URL of the node used for searching. Required</td> <td></td></tr> <tr><td>exo.es.search.server.username</td> <td>Username used for the BASIC authentication on the Elasticsearch node used for searching.</td> <td></td></tr> <tr><td>exo.es.search.server.password</td> <td>Password used for the BASIC authentication on the Elasticsearch node used for searching.</td> <td></td></tr> <tr><td>exo.es.index.server.url</td> <td>URL of the node used for indexing.</td> <td></td></tr> <tr><td>exo.es.index.server.username</td> <td>Username used for the BASIC authentication on the Elasticsearch node used for indexing.</td> <td></td></tr> <tr><td>exo.es.index.server.password</td> <td>Password used for the BASIC authentication on the Elasticsearch node used for indexing.</td> <td></td></tr></tbody></table> <h4 id="elasticsearch-indexing-properties"><a href="#elasticsearch-indexing-properties" class="header-anchor">#</a> Elasticsearch Indexing properties</h4> <table><thead><tr><th>Name</th> <th>Description</th> <th>Default</th></tr></thead> <tbody><tr><td>exo.es.indexing.batch.number</td> <td>Maximum number of documents that can be sent to Elasticsearch in one bulk request.</td> <td>1000</td></tr> <tr><td>exo.es.indexing.request.size.limit</td> <td>Maximum size (in bytes) of an Elasticsearch bulk request.</td> <td>10485760 (= 10Mb)</td></tr> <tr><td>exo.es.reindex.batch.size</td> <td>Size of the chunks of the reindexing batch.</td> <td>100</td></tr> <tr><td>exo.es.indexing.replica.number.default</td> <td>Number of replicas of the index.</td> <td>1</td></tr> <tr><td>exo.es.indexing.shard.number.default</td> <td>Number of shards of the index.</td> <td>5</td></tr></tbody></table> <h3 id="enable-disable-activity-type"><a href="#enable-disable-activity-type" class="header-anchor">#</a> Enable/Disable activity type</h3> <table><thead><tr><th>Name</th> <th>Description</th> <th>Default</th></tr></thead> <tbody><tr><td>exo.activity-type.activity-type-key.enabled</td> <td>The property that allows to enable or disable an activity having the type key <code>activity-type-key</code> from posting in the streams.</td> <td>true</td></tr></tbody></table> <h3 id="file-storage-configuration"><a href="#file-storage-configuration" class="header-anchor">#</a> File storage configuration</h3> <table><thead><tr><th>Name</th> <th>Description</th> <th>Default</th></tr></thead> <tbody><tr><td>exo.files.binaries.storage.type</td> <td>Allows to define the file storage way: File system (type=fs) or RDBMS (type=rdbms).</td> <td>fs</td></tr> <tr><td>exo.commons.FileStorageCleanJob.enabled</td> <td>Enables/disables the job that cleans unused files.</td> <td>true</td></tr> <tr><td>exo.commons.FileStorageCleanJob.retention-time</td> <td>The retention time of unused files</td> <td>30 days</td></tr> <tr><td>exo.commons.FileStorageCleanJob.expression</td> <td>The cron job expression for scheduling the file cleaner job</td> <td>0 0 11 ? * SUN</td></tr> <tr><td>exo.files.storage.dir</td> <td>The location where to store binary files in case of file system storage. In cluster mode, this location (folder) should be shared.</td> <td>{exo.data.dir}/files</td></tr></tbody></table> <h3 id="groovy-templates-statistics"><a href="#groovy-templates-statistics" class="header-anchor">#</a> Groovy templates statistics</h3> <table><thead><tr><th>Name</th> <th>Description</th> <th>Default</th></tr></thead> <tbody><tr><td>exo.statistics.groovy.template.enabled</td> <td>Enables/disables Groovy Templates statistics that is collected asynchronously.</td> <td>true</td></tr></tbody></table> <h3 id="files-upload-limit"><a href="#files-upload-limit" class="header-anchor">#</a> Files upload limit</h3> <table><thead><tr><th>Name</th> <th>Description</th> <th>Default</th></tr></thead> <tbody><tr><td>exo.ecms.connector.drives.uploadLimit</td> <td>Maximum size (in 200 MB) allowed of an uploaded file.</td> <td></td></tr> <tr><td>exo.social.activity.uploadLimit</td> <td>Maximum size (in 200 MB) allowed of an uploaded image through the CKEditor.</td> <td></td></tr></tbody></table> <h3 id="agenda"><a href="#agenda" class="header-anchor">#</a> Agenda</h3> <table><thead><tr><th>Name</th> <th>Description</th> <th>Default</th></tr></thead> <tbody><tr><td><code>exo.agenda.calendar.defaultColor1</code></td> <td>to A set of default colors to use for newly created Space Calendars</td> <td>defaultColor1:#08a554<br>defaultColor2:#f8b121<br>defaultColor3:#ee7429<br>defaultColor4:#e5282c<br>defaultColor5:#e32386<br>defaultColor6:#2aa8e2<br>defaultColor7:#743289<br>defaultColor8:#ac2986<br>defaultColor9:#3853a0<br>defaultColor10:#32388c</td></tr> <tr><td><code>exo.agenda.reminder.computing.period</code></td> <td>Reminders of occurrent events are computed periodically to store its exact date of notification. This 2 (two days) is the period, in days, of next upcoming event reminders to compute using a Periodic Job.</td> <td></td></tr> <tr><td><code>exo.agenda.webConferencing.default</code></td> <td>Name of default Web Conferencing Provider to use.</td> <td>jitsi (when exo-jitsi addon is installed)</td></tr> <tr><td><code>exo.agenda.settings.agendaDefaultView</code></td> <td>Default user setting for Agenda view for new users. Possible values: month, week or day</td> <td>week</td></tr> <tr><td><code>exo.agenda.settings.agendaWeekStartOn</code></td> <td>Default user setting for first day of the week. Possible values: MO, TU, WE, TH, FR, SA or SU</td> <td>MO</td></tr> <tr><td><code>exo.agenda.settings.showWorkingTime</code></td> <td>Default user setting for showing or not working time in Agenda (add gray background on non working hours)</td> <td>false</td></tr> <tr><td><code>exo.agenda.settings.workingTimeStart</code></td> <td>Default user setting for working hour start</td> <td>09:00</td></tr> <tr><td><code>exo.agenda.settings.workingTimeEnd</code></td> <td>Default user setting for working hour end</td> <td>18:00</td></tr> <tr><td><code>exo.agenda.settings.automaticPushEvents</code></td> <td>Default user setting for automatic pushing events remotely into connected Remote Agenda Provider or not.</td> <td>true</td></tr> <tr><td><code>exo.agenda.google.connector.enabled</code></td> <td>Global setting to allow users to connect their personal Google Calendar with eXo Agenda or not.</td> <td>true</td></tr> <tr><td><code>exo.agenda.google.connector.key</code></td> <td>Client API Key to be generated from Google Console to identify current site that uses eXo Agenda application.</td> <td></td></tr> <tr><td><code>exo.agenda.google.connector.secret</code></td> <td>Client secret key to be generated from Google Console to identify current site that uses eXo Agenda application.</td> <td></td></tr> <tr><td><code>exo.agenda.office.connector.enabled</code></td> <td>Global setting to allow users to connect their personal Office 365 Outlook Calendar with eXo Agenda or not.</td> <td>true</td></tr> <tr><td><code>exo.agenda.office.connector.key</code></td> <td>Client API Key to be generated from Office 365 to identify current site that uses eXo Agenda application.</td> <td></td></tr></tbody></table> <h2 id="configure-username-case-sensitive"><a href="#configure-username-case-sensitive" class="header-anchor">#</a> Configure username case sensitive</h2> <p>By default, eXo Platform is case insensitive. You can configure it to become case sensitive through a parameter in<code>exo.properties</code> file:</p> <ul><li><code>exo.auth.case.insensitive</code>, default value set to true.</li></ul> <p>If you set the <code>exo.auth.case.insensitive</code> to true this means that the username &quot;user&quot; is the same as &quot;User&quot; or &quot;uSEr&quot;. If it is set to false,this means that the user should take care of capital and minimal letters when typing the username.</p> <h2 id="user-inactivity-delay-configuration"><a href="#user-inactivity-delay-configuration" class="header-anchor">#</a> User inactivity delay configuration</h2> <p>When a user does not make any action on the platform i.e he is inactive for a time lapse, he is considered as offline.
The time lapse is configurable in <code>exo.properties</code> file using this parameter <code>exo.user.status.offline.delay</code>.
The parameter is expressed in millisecond and the value default is 240000 milliseconds.</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># The delay when we consider a user as offline. Default value is 240000 milliseconds</span>
<span class="token key attr-name">exo.user.status.offline.delay</span><span class="token punctuation">=</span><span class="token value attr-value">240000</span>
</code></pre></div><h2 id="data-directory-configuration"><a href="#data-directory-configuration" class="header-anchor">#</a> Data directory configuration</h2> <p>JCR data is stored in both SQL databases and File System. JCR Database configuration is explained in <code>Database</code>. The JCR File System configuration is explained in this section.</p> <p>Typically, the JCR File System data consists of four folders:</p> <ul><li><p>JCR indexes.</p></li> <li><p>JCR values storage.</p></li></ul> <p>To store JCR value, SQL database is used as primary storage and another directory can be used as a secondary, dedicated storage for BLOB data. It is optional and you can configure to not store BLOB data in File System, by changing the default configuration in the <code>exo.properties</code> file.</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">exo.jcr.storage.enabled</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
</code></pre></div><ul><li><p>JTA (Transaction information).</p></li> <li><p>Swap data (temporary memory space).</p></li></ul> <p>By default, these four folders are located under a common directory that is <code>$PLATFORM_TOMCAT_HOME/gatein/data</code>.</p> <p>In production, it is recommended to configure it to use a directory separated from the package. Especially in cluster mode, it should be a network shared folder.</p> <h3 id="configuration-in-platform-tomcat"><a href="#configuration-in-platform-tomcat" class="header-anchor">#</a> Configuration in Platform Tomcat</h3> <p>In Tomcat, the directory is configured by the environment variable <code>EXO_DATA_DIR</code>. Edit the <code>bin/setenv-customize.(sh|bat)</code> script:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>    <span class="token assign-left variable">EXO_DATA_DIR</span><span class="token operator">=</span>/mnt/nfs/shared/exo/data
</code></pre></div><p>You need to create the script file by copying/renaming the sample <code>bin/setenv-customize.sample.(sh|bat)</code>.</p> <h2 id="assets-version-configuration"><a href="#assets-version-configuration" class="header-anchor">#</a> Assets version configuration</h2> <p>Between versions, eXo Platform makes various changes on various layers.To avoid that browsers use cached assets and display old behavior, a parameter <code>exo.assets.version</code> is added in <code>exo.properties</code> file.</p> <p>When eXo Platform is updated, his parameter allows to:</p> <ul><li>Enforce browsers to reload javascript and css.</li> <li>Build eXo Platform urls for resources serving.</li> <li>Avoid asking users to clear their browser's cache.</li></ul> <p>By default, this parameter is set to eXo Platform package version, i.e for the version 5.0.x it is set to 5.0.x.</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># Assets versions used in static resources URLs. Useful to manage caches.</span>
<span class="token key attr-name">exo.assets.version</span><span class="token punctuation">=</span><span class="token value attr-value">5.0.x</span>
</code></pre></div><h2 id="quartz-scheduler-configuration"><a href="#quartz-scheduler-configuration" class="header-anchor">#</a> Quartz Scheduler configuration</h2> <p>eXo Platform uses <a href="http://www.quartz-scheduler.org/" target="_blank" rel="noopener noreferrer">Quartz Scheduler<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, the Java Framework for scheduling jobs, in a wide range of features. When eXo Platform runs in cluster mode, it is important to prevent jobs to execute concurrently. Quartz has its own cluster mode, with each instance of eXo Platform server as a node of Quartz load balancing and failover group.</p> <p>Since the version 6.0 of eXo Platform, Quartz is used in in-memory mode. And it's switched to persisted mode when clustering is enabled. So it is automatically configured in eXo Platform. As an administrator, you can change default Quartz settings in eXo Platform through <code>exo.properties</code> file.</p> <h3 id="main-scheduler-properties"><a href="#main-scheduler-properties" class="header-anchor">#</a> Main Scheduler Properties</h3> <table><thead><tr><th>Name</th> <th>Description</th> <th>Default</th></tr></thead> <tbody><tr><td>exo.quartz.scheduler.instanceName</td> <td>The name of the ExoScheduler instance.</td> <td>scheduler</td></tr> <tr><td>exo.quartz.scheduler.instanceId</td> <td>The type of the AUTO scheduler instance.</td> <td></td></tr></tbody></table> <h3 id="threadpool-configuration-properties"><a href="#threadpool-configuration-properties" class="header-anchor">#</a> ThreadPool configuration Properties</h3> <table><thead><tr><th>Name</th> <th>Description</th> <th>Default</th></tr></thead> <tbody><tr><td>exo.quartz.threadPool.class</td> <td>Is the name of the ThreadPool</td> <td>org.quartz.simpl.SimpleThreadPool used.</td></tr> <tr><td>exo.quartz.threadPool.threadPriority</td> <td>It an integer value between</td> <td>5 (which is the value of Thread.NORM_PRIORITY Thread.MIN_PRIORITY (which is 1) and Thread.MAX_PRIORITY (which is                                                     10).</td></tr> <tr><td>exo.quartz.threadPool.threadCount</td> <td>It is the number 25 of threads that are available for concurrent execution of jobs.</td> <td></td></tr></tbody></table> <h3 id="jobstore-configuration-properties-persisted-mode"><a href="#jobstore-configuration-properties-persisted-mode" class="header-anchor">#</a> JobStore configuration Properties (Persisted mode)</h3> <table><thead><tr><th>Name</th> <th>Description</th> <th>Default</th></tr></thead> <tbody><tr><td>exo.quartz.jobStore.misfireThreshold</td> <td>The number of milliseconds the scheduler will tolerate a trigger to pass its next-fire-time by, before being considered misfired.</td> <td>6000</td></tr> <tr><td>exo.quartz.jobStore.class</td> <td>The Scheduler's JobStore class name.</td> <td>org.quartz.impl.jdbcjobstore.JobStoreTX</td></tr> <tr><td>exo.quartz.jobStore.driver</td> <td>The Driver delegate which will ensure communication with database</td> <td>org.quartz.impl.jdbcjobstore.StdJDBCDelegate</td></tr> <tr><td>exo.quartz.jobStore.useProperties</td> <td>The flag which instructs JDBCJobStore that all values in JobDataMaps will be Strings.</td> <td>false</td></tr> <tr><td>exo.quartz.jobStore.dataSource</td> <td>The name of the DataSources defined in the configuration properties file for quartz.</td> <td>quartzDS</td></tr> <tr><td>exo.quartz.jobStore.tablePrefix</td> <td>The prefix used to prefix the names of the Quartz's tables in database.</td> <td>QRTZ_</td></tr> <tr><td>exo.quartz.jobStore.isClustered</td> <td>Set to &quot;true&quot; in order to turn on clustering features.</td> <td>false</td></tr> <tr><td>exo.quartz.jobStore.clusterCheckinInterval</td> <td>Set the frequency (in milliseconds) at which this instance &quot;checks-in&quot; with other instances of the cluster.</td> <td>20000</td></tr> <tr><td>exo.quartz.jobStore.maxMisfiresToHandleAtATime</td> <td>The maximum number of misfired triggers the jobstore will handle in a given pass.</td> <td>20</td></tr> <tr><td>exo.quartz.jobStore.dontSetAutoCommitFalse</td> <td>Setting this parameter to &quot;true&quot; tellsQuartz not to call setAutoCommit(false) on connections obtained from the DataSource(s).</td> <td>false</td></tr> <tr><td>exo.quartz.jobStore.acquireTriggersWithinLock</td> <td>Whether or not the acquisition of next triggers to fire should occur within an explicit database lock.</td> <td>false</td></tr> <tr><td>exo.quartz.jobStore.lockHandler.class</td> <td>The class name to be used to produce an instance of a &quot;org.quartz.impl.jdbcjobstore&quot;.</td> <td></td></tr> <tr><td>exo.quartz.jobStore.driverDelegateInitString</td> <td>A pipe-delimited list of properties (and their values) that can be passed to the DriverDelegate during initialization time.</td> <td></td></tr> <tr><td>exo.quartz.jobStore.txIsolationLevelSerializable</td> <td>A value of &quot;true&quot; false tells Quartz (when using JobStoreTX or CMT) to call setTransactionIsolation(Connection.TRANSACTIONSERIALIZABLE) on JDBC connections. This can be helpful to prevent lock timeouts with some databases under high load, and long-lasting transactions.</td> <td></td></tr> <tr><td>exo.quartz.jobStore.selectWithLockSQL</td> <td>Must be a SQL string that selects a row in the places a lock on &quot;LOCKS&quot; table and the row.</td> <td>SELECT * FROM {0}LOCKS WHERE SCHED_NAME = {1} AND LOCK_NAME = ? FOR UPDATE</td></tr></tbody></table> <h3 id="datasource-configuration-persisted-mode"><a href="#datasource-configuration-persisted-mode" class="header-anchor">#</a> Datasource configuration (Persisted mode)</h3> <table><thead><tr><th>Name</th> <th>Description</th> <th>Default</th></tr></thead> <tbody><tr><td>exo.quartz.dataSource.quartzDS.jndiURL</td> <td>The JNDI URL for a DataSource that is managed by eXo Platform.</td> <td>java:/comp/env/exo-jpa_portal</td></tr></tbody></table> <p>More details about the definition and default values of the above properties could be found in the table <code>Properties reference</code>  . You can also refer to <a href="http://www.quartz-scheduler.org/documentation/quartz-2.x/configuration/" target="_blank" rel="noopener noreferrer">Quartz Configuration Reference<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> documentation for more details about quartz parameters.</p> <h2 id="configure-documents-multiupload-in-the-activity-stream"><a href="#configure-documents-multiupload-in-the-activity-stream" class="header-anchor">#</a> Configure documents multiupload in the activity stream</h2> <p>Through the <code>MultiUpload</code> feature, you are able to upload up to 20 files per activity having each one 200 MB as max size.</p> <p>You can change the default behavior through <code>exo.properties</code> file by configuring these two parameters:</p> <ul><li><code>exo.social.composer.maxToUpload=20</code>, default value set to 20.</li> <li><code>exo.social.composer.maxFileSizeInMB=200</code>, default value set to 200 MB.</li></ul> <h2 id="transaction-service"><a href="#transaction-service" class="header-anchor">#</a> Transaction service</h2> <p>The JCR transaction timeout is 420 seconds by default. If your application runs longer transactions, you might need a bigger timeout.</p> <p>Configure the timeout by adding the <code>exo.jcr.transaction.timeout</code> property in <code>exo.properties</code> file.</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">    exo.jcr.transaction.timeout</span><span class="token punctuation">=</span><span class="token value attr-value">3600</span>
</code></pre></div><p>The value is in seconds.</p> <h2 id="server-base-url"><a href="#server-base-url" class="header-anchor">#</a> Server base URL</h2> <p>The property <code>exo.base.url</code> is used to generate links in some cases,like a topic link in an email notification. Generally you need to configure it to the base URL that users use to access eXo Platform. For example, if you use a reverse proxy, the URL should be the proxy's host. The following is the default configuration. To change it, edit <code>exo.properties</code> file.</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment">    # The Server Base URL is the URL via which users access eXo platform. All links created (for emails etc) will be prefixed by this URL.</span>
<span class="token comment">    # The base URL must be set to the same URL by which browsers will be viewing your eXo platform instance.</span>
<span class="token comment">    # Sample: exo.base.url=https://intranet.mycompany.com</span>
<span class="token key attr-name">    exo.base.url</span><span class="token punctuation">=</span><span class="token value attr-value">http://localhost:8080</span>
</code></pre></div><h2 id="account-setup"><a href="#account-setup" class="header-anchor">#</a> Account setup</h2> <p>At the first startup of eXo Platform, the Account Setup and Greetings! screens will appear by default. However, in some scenarios, these screens are not necessary, for example:</p> <ul><li>When you have an extension that declares sample users.</li> <li>When you want to connect to an existing user directory.</li></ul> <p>To skip these screens, simply change the default value from &quot;false&quot; into &quot;true&quot; in the <code>exo.properties</code> file.</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">    exo.accountsetup.skip</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
</code></pre></div><h2 id="custom-data-validators-configuration"><a href="#custom-data-validators-configuration" class="header-anchor">#</a> Custom data validators configuration</h2> <p>Custom data validator, or user-configurable validator is the mechanism allowing users to define their own validation rules. For example, the username must be lowercase, or shorter than 20 characters. In eXo Platform, there are 6 validators that administrators can configure to use and the architecture allows developers to add more validators as they wish.</p> <p>The validators can be configured via properties in <code>exo.properties</code> file.</p> <p>A configuration is created by adding an entry with the <code>gatein.validators.</code> prefix in <code>exo.properties</code> file. This prefix is followed by a validator name, a period '.' and a validator aspect. Currently, there are the following validators and validator aspects:</p> <ul><li>Validators:
<ul><li><strong>username</strong>: Validates the 'Username' field in the Create or Edit user form.</li> <li><strong>password</strong>: Validates the 'Password' field in the Create or Edit user form.</li> <li><strong>groupmembership</strong>: There is a built-in regex that is currently not used to validate any field: <code>GROUP_MEMBERSHIP_VALIDATION_REGEX = &quot;^(\\p{Lower}[\\p{Lower}\\d\\._]+)(\\s*,\\s*(\\p{Lower}[\\p{Lower}\\d\\._]+))*$&quot;;</code></li> <li><strong>email</strong>: Validates the Email Address field in the Create or Edit user form.</li> <li><strong>displayname</strong>: Validates the Display Name field in the Create or Edit user form.</li> <li><strong>jobtitle</strong>: Validates the Job Title field in the User Profile form.</li> <li><strong>grouplabel</strong>: Validates the Label field in Add or Edit group form.</li> <li><strong>pagename</strong>: Validates the page name field in the <strong>Add new page</strong> form. Its label is Page Name if you create a page from the Page ManagementAdd New Page menu. In the <strong>Page Creation Wizard</strong>, the label is Node Name.</li></ul></li> <li>Validator aspects:
<ul><li><code>gatein.validators.{validatorName}.length.min</code>: The minimum length of the validated field.</li> <li><code>gatein.validators.{validatorName}.length.max</code>: The maximum length of the validated field.</li> <li><code>gatein.validators.{validatorName}.regexp</code>: The regular expression to which the validated field must conform.</li> <li><code>gatein.validators.{validatorName}.format.message</code>: The information message that is displayed when the field does not conform to the specified regular expression.</li></ul></li></ul> <p>See details about the &quot;<em>username</em>&quot; and &quot;<em>password</em>&quot; validators as below.</p> <h3 id="configuration-of-username-validator"><a href="#configuration-of-username-validator" class="header-anchor">#</a> Configuration of username validator</h3> <p>By default, the username will be validated as follows:</p> <ul><li>The length must be between 3 and 30 characters.</li> <li>Only lowercase letters, numbers, underscores (_) and period (.) can be used.</li> <li>No consecutive underscores (_) or periods (.) can be used.</li> <li>Must start with a lowercase letter.</li> <li>Must end with a lowercase letter or number.</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Some components depend on usernames being all lowercase. Therefore, we require to use a <strong>lowercase username only</strong>.</p></div> <p>If you want to validate that username format is email-like, you could use the following configuration:</p> <ul><li>validators
gatein.validators.userName.regexp=^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$
gatein.validators.username.format.message=Username must be a valid email address</li></ul> <p>When the username field does not conform to this rule, the account is not created and there will be a warning message:</p> <ul><li>The field &quot;User Name&quot; must match the format &quot;Username must be a valid email address&quot;.</li></ul> <p>In case you do not define <code>gatein.validators.username.format.message</code>,
the value of <code>gatein.validators.userName.regexp</code> will be used in the
warning message:</p> <ul><li>The field &quot;User Name&quot; must match the format &quot;^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$&quot;.</li></ul> <h3 id="configuration-of-password-validator"><a href="#configuration-of-password-validator" class="header-anchor">#</a> Configuration of password validator</h3> <p>By default, the password will be validated as follows:</p> <ul><li>The length must be between 9 and 256 characters.</li> <li>Must contains at minima 1 digit, 1 lower case, 1 upper case</li></ul> <p>This default configuration correspond to the minimal password length recommended by <a href="https://www.ssi.gouv.fr/uploads/2021/10/anssi-guide-authentification_multifacteur_et_mots_de_passe.pdf" target="_blank" rel="noopener noreferrer">ANSSI-PG-078<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> in low to medium sensitivity contexts.</p> <p>If you want to change the password validation in medium to high sensitivity contexts, the ANSSI recommends to use the following configuration :</p> <div class="language-properties extra-class"><pre class="language-properties"><code>
<span class="token comment">    # validators</span>
<span class="token key attr-name">    gatein.validators.passwordpolicy.regexp</span><span class="token punctuation">=</span><span class="token value attr-value">((?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{12,256})</span>
<span class="token key attr-name">    gatein.validators.passwordpolicy.length.max</span><span class="token punctuation">=</span><span class="token value attr-value">256</span>
<span class="token key attr-name">    gatein.validators.passwordpolicy.length.min</span><span class="token punctuation">=</span><span class="token value attr-value">12</span>
<span class="token key attr-name">    gatein.validators.passwordpolicy.format.message</span><span class="token punctuation">=</span><span class="token value attr-value">Minimum of 1 digit, 1 lower case, 1 upper case, minimum of 12 chars.    </span>
</code></pre></div><p>If you want to change the password validation to use the strong level
defined by ANSSI, you could use the following configuration :</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment">    # validators</span>
<span class="token key attr-name">    gatein.validators.passwordpolicy.regexp</span><span class="token punctuation">=</span><span class="token value attr-value">((?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{15,256})</span>
<span class="token key attr-name">    gatein.validators.passwordpolicy.length.max</span><span class="token punctuation">=</span><span class="token value attr-value">256</span>
<span class="token key attr-name">    gatein.validators.passwordpolicy.length.min</span><span class="token punctuation">=</span><span class="token value attr-value">15</span>
<span class="token key attr-name">    gatein.validators.passwordpolicy.format.message</span><span class="token punctuation">=</span><span class="token value attr-value">Minimum of 1 digit, 1 lower case, 1 upper case, minimum of 15 chars.</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Even when the maximum password length is not set, that maximum will not be revealed to the end user. This is done on purpose to limit exposure to some attacks related to very long password.</p></div> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If you need to define more rules for password complexity, you can update the regexp according to your rules. Remember to update the error message accordingly to help the user enter a valid password.</p></div> <h2 id="outgoing-mail-service"><a href="#outgoing-mail-service" class="header-anchor">#</a> Outgoing mail service</h2> <p>eXo Platform includes an email sending service that needs to be configured before it can function properly. This service, for instance, is used to send notifications of connection requests.</p> <p>The service requires an external SMTP server that allows accounts to send email from applications. A suggestion is to use Google SMTP, as detailed below.</p> <p>In configuration, you need to provide your account and password, and other information so that eXo Platform can connect to the SMTP server.</p> <p>The configuration file <code>exo.properties</code> is as follows :</p> <p>Here is the default configuration (it will not work of course, you will need to edit it):</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment">    # Email display in &quot;from&quot; field of emails sent by eXo platform.</span>
<span class="token key attr-name">    exo.email.smtp.from</span><span class="token punctuation">=</span><span class="token value attr-value">noreply@exoplatform.com</span>
<span class="token comment">    # SMTP Server hostname.</span>
<span class="token key attr-name">    exo.email.smtp.host</span><span class="token punctuation">=</span><span class="token value attr-value">localhost</span>
<span class="token comment">    # SMTP Server port.</span>
<span class="token key attr-name">    exo.email.smtp.port</span><span class="token punctuation">=</span><span class="token value attr-value">25</span>
<span class="token comment">    # True to enable the secure (TLS) SMTP. See RFC 3207.</span>
<span class="token key attr-name">    exo.email.smtp.starttls.enable</span><span class="token punctuation">=</span><span class="token value attr-value">false</span>
<span class="token comment">    # True to enable the SMTP authentication.</span>
<span class="token key attr-name">    exo.email.smtp.auth</span><span class="token punctuation">=</span><span class="token value attr-value">false</span>
<span class="token comment">    # Username to send for authentication. Sample: exo.email.smtp.username=account@gmail.com</span>
<span class="token key attr-name">    exo.email.smtp.username</span><span class="token punctuation">=</span>
<span class="token comment">    # Password to send for authentication.</span>
<span class="token key attr-name">    exo.email.smtp.password</span><span class="token punctuation">=</span>
<span class="token comment">    # Specify the port to connect to when using the specified socket factory. Sample: exo.email.smtp.socketFactory.port=465</span>
<span class="token key attr-name">    exo.email.smtp.socketFactory.port</span><span class="token punctuation">=</span>
<span class="token comment">    # This class will be used to create SMTP sockets. Sample: exo.email.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory</span>
<span class="token key attr-name">    exo.email.smtp.socketFactory.class</span><span class="token punctuation">=</span>
<span class="token comment">    # (SSL Only) Starting from OpenJDK 11.0.11, legacy SSL protocols are no longer supported. Need to enforce TLS version.</span>
<span class="token key attr-name">    mail.smtp.ssl.protocols</span><span class="token punctuation">=</span><span class="token value attr-value">TLSv1.2 # (or TLSv1.3)</span>
</code></pre></div><p>Read the inline comments to understand each property. Here are some remarks:</p> <ul><li>You need to provide SMTP server host/port, a username/password to be authenticated by that server. Others are optional.</li> <li>Typically, administrators want to mask the <em>From</em> field in the system emails with something like <em>no-reply@exoplatform.com</em> so that the receivers recognize it is robotic. Many SMTP services allow you to set <em>From</em> field in outgoing emails to another email address than the authenticated account.that's why here you see the property : <code>exo.email.smtp.from</code>.</li></ul> <p>If this parameter is not valid, the value of <code>exo.email.smtp.username</code> will be used instead.</p> <ul><li>If you want to use SMTP gateway over SSL, configure a certificate truststore containing your SMTP server's public certificate. Depending on the key sizes, you may then also need to install Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files for your Java Runtime Environment.</li></ul> <h3 id="using-gmail-as-your-smtp-server"><a href="#using-gmail-as-your-smtp-server" class="header-anchor">#</a> Using Gmail as your SMTP server</h3> <p>Here is the sample using <em>smtp.gmail.com</em> server:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">    exo.email.smtp.from</span><span class="token punctuation">=</span><span class="token value attr-value">noreply@exoplatform.com</span>
<span class="token key attr-name">    exo.email.smtp.host</span><span class="token punctuation">=</span><span class="token value attr-value">smtp.gmail.com</span>
<span class="token key attr-name">    exo.email.smtp.port</span><span class="token punctuation">=</span><span class="token value attr-value">465</span>
<span class="token key attr-name">    exo.email.smtp.starttls.enable</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
<span class="token key attr-name">    exo.email.smtp.auth</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
<span class="token key attr-name">    exo.email.smtp.username</span><span class="token punctuation">=</span><span class="token value attr-value">exo.test100@gmail.com</span>
<span class="token key attr-name">    exo.email.smtp.password</span><span class="token punctuation">=</span><span class="token value attr-value">***</span>
<span class="token key attr-name">    exo.email.smtp.socketFactory.port</span><span class="token punctuation">=</span><span class="token value attr-value">465</span>
<span class="token key attr-name">    exo.email.smtp.socketFactory.class</span><span class="token punctuation">=</span><span class="token value attr-value">javax.net.ssl.SSLSocketFactory</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If you want to use SMTP gateway over SSL, and starting from openjdk 11.0.11, which no longer supports legacy SSL versions (SSLv3, TLSv1,TLSv1.1) , the following property <code>mail.smtp.ssl.protocols=TLSv1.2</code> has to be added in eXo Platform.</p></div> <p>To make the configuration work, you need to:</p> <ul><li><p>Register a Google account that is <em>exo.test100@gmail.com</em> in the sample.</p></li> <li><p>Enable POP and IMAP for that account. This can be done simply in your Gmail settings.
<a href="https://support.google.com/mail/answer/78775?hl=en" target="_blank" rel="noopener noreferrer">Here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is a checklist provided by Google to help you solve problem if any.</p></li></ul> <p>Besides, for securing your account, Google may block access from an app and send you an email to review the access. So in case the mail service
does not work, check your inbox and get the link to allow the app access.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>In case of Gmail, <code>exo.email.smtp.from</code> must be a real account that you own. It does not need to be a Gmail account, as you can guess by the sample. You will configure your main account (that is<code>exo.email.smtp.username</code>) to add this <em>from</em> email as another &quot;send as&quot;.</p></div> <p>To do so, follow <a href="https://support.google.com/mail/answer/22370?hl=en" target="_blank" rel="noopener noreferrer">this guide of Google<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>In case the <em>from</em> parameter is not valid, it does not fail the email sending and the main account will be displayed instead.</p> <h3 id="changing-sender-information-of-email-notification"><a href="#changing-sender-information-of-email-notification" class="header-anchor">#</a> Changing sender information of email notification</h3> <p>In eXo Platform, email notifications are sent to users when significant actions involving them occur (for example, new users, connection request, space invitation, and more). These emails help them to track of activities taking place in their Digital Workplace.</p> <p>As an administrator, you can configure information (name and email address) of the sender, from which all notifications are sent, via two ways:</p> <ul><li><p>In UI, click AdministrationPortalNotifications. Then edit Email
Notification Sender section.</p></li> <li><p>Via <code>exo.properties</code> file</p></li></ul> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">        exo.notification.portalname</span><span class="token punctuation">=</span><span class="token value attr-value">eXo</span>
<span class="token key attr-name">        exo.email.smtp.from</span><span class="token punctuation">=</span><span class="token value attr-value">noreply@exoplatform.com</span>
</code></pre></div><p>In which:</p> <ul><li><code>exo.notification.portalname</code>: Name of the sender. The default value is <code>eXo</code>.</li> <li><code>exo.email.smtp.from</code>: Email address of the sender. The default value is <em>noreply@exoplatform.com</em>.</li></ul> <h2 id="subscribing-to-notifications-of-document-changes"><a href="#subscribing-to-notifications-of-document-changes" class="header-anchor">#</a> Subscribing to notifications of document changes</h2> <p>The function Watch document in Sites Explorer allows users to receive notification by email when a document is updated. The email address of receivers is the email they declare in their profile. Administrators can customize the sender, subject, mimetype and content of the notification.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>To get the email notification feature work, you first need to configure <code>Outgoing mail service</code> first.</p></div> <p>To customize the email notification, simply add the following properties in <code>exo.properties</code> file.</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># Email content for WatchDocumentService</span>
<span class="token key attr-name">exo.ecms.watchdocument.subject</span><span class="token punctuation">=</span><span class="token value attr-value">Your watching document is changed</span>
<span class="token key attr-name">exo.ecms.watchdocument.mimetype</span><span class="token punctuation">=</span><span class="token value attr-value">text/html</span>
<span class="token key attr-name">exo.ecms.watchdocument.content</span><span class="token punctuation">=</span><span class="token value attr-value">Dear $user_name,&lt;br&gt;&lt;br&gt;The document $doc_name ($doc_title) has changed.&lt;br&gt;&lt;br&gt;Please go to&lt;a href=&quot;$doc_url&quot;&gt;$doc_title&lt;/a&gt; to see this change.&lt;br&gt;&lt;br&gt;</span>
</code></pre></div><table><thead><tr><th>Property</th> <th>Default value</th> <th>Description</th></tr></thead> <tbody><tr><td>exo.ecms.watchdocument.subject</td> <td>Your watching document changed</td> <td>is  The subject of the email notification.</td></tr> <tr><td>exo.ecms.watchdocument.mimetype</td> <td>text/html</td> <td>The format of the email content. There are two types: text/html and text/plain.</td></tr> <tr><td>exo.ecms.watchdocument.content</td> <td><code>Dear \$user_name,\&lt;br\&gt;\&lt;br\&gt; The document \$doc_name (\$doc_title) has changed.\&lt;br\&gt;\&lt;br\&gt;Please go to \&lt;ahref=\&quot;\$doc_url\&quot;\&gt;\$doc_title\&lt;/a\&gt; to see this change.\&lt;br\&gt;\&lt;br\&gt;</code></td> <td>The content of the email notification.</td></tr></tbody></table> <p>You can use four parameters below in the
<code>exo.ecms.watchdocument.content</code> property:</p> <ul><li><strong>$user_name</strong>: The full name of the receiver.</li> <li><strong>$doc_name</strong>: The name of the document.</li> <li><strong>$doc_title</strong>: The title of the document.</li> <li><strong>$doc_url</strong>: The link to view the document in Sites Explorer.</li></ul> <h2 id="webdav-configuration"><a href="#webdav-configuration" class="header-anchor">#</a> WebDAV configuration</h2> <p>The embedded WebDAV server lets you configure some parameter via <code>exo.properties</code> file  .</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># JCR Webdav configuration</span>
<span class="token key attr-name">exo.webdav.def-folder-node-type</span><span class="token punctuation">=</span><span class="token value attr-value">nt:folder</span>
<span class="token key attr-name">exo.webdav.def-file-node-type</span><span class="token punctuation">=</span><span class="token value attr-value">nt:file</span>
<span class="token key attr-name">exo.webdav.def-file-mimetype</span><span class="token punctuation">=</span><span class="token value attr-value">application/octet-stream</span>
<span class="token key attr-name">exo.webdav.update-policy</span><span class="token punctuation">=</span><span class="token value attr-value">update</span>
<span class="token key attr-name">exo.webdav.folder-icon-path</span><span class="token punctuation">=</span><span class="token value attr-value">/eXoWCMResources/skin/images/file/nt-folder.png</span>
<span class="token key attr-name">exo.webdav.cache-control</span><span class="token punctuation">=</span><span class="token value attr-value">text/*:max-age=3600;image/*:max-age=1800;application/*:max-age=1800;*/*:no-cache</span>
</code></pre></div><table><thead><tr><th>Name</th> <th>Description</th> <th>Default</th></tr></thead> <tbody><tr><td>exo.webdav.def-folder-node-type</td> <td>Matching node type of folders.</td> <td>nt:folder</td></tr> <tr><td>exo.webdav.def-file-node-type</td> <td>Matching node type of files.</td> <td>nt:file</td></tr> <tr><td>exo.webdav.def-file-mimetype</td> <td>The mimetype to exchange file data.</td> <td>application/octet-stream</td></tr> <tr><td>exo.webdav.update-policy</td> <td>This defines the behavior when a PUT command is executed  against an existing resource: <br> - add: It tries to add new resource with the same name.<br> - create-version: It creates a new version of the resource.<br> - Otherwise, the PUT command updates the resource and its last modification date.</td> <td>create-version</td></tr> <tr><td>exo.webdav.folder-icon-path</td> <td>The display icon of a folder.</td> <td>/eXoWCMResources/skin/images/file/nt-folder.png</td></tr> <tr><td>exo.webdav.cache-control</td> <td>The cache-control header that defines cache and cache live time.</td> <td><code>text/*:max-age=3600; image/*:max-age=1800; application/*:max-age= 1800;*/*:no-cache</code></td></tr></tbody></table> <h2 id="secure-the-listing-of-the-contents-of-jcr-folders-through-webdav"><a href="#secure-the-listing-of-the-contents-of-jcr-folders-through-webdav" class="header-anchor">#</a> Secure the listing of the contents of JCR folders through Webdav</h2> <p>For security reasons, it is important to an administrator to secure the
access to WebDAV urls of JCR folders.</p> <p>You can define which JCR folders could be listed through Webdav by using
the parameter <code>exo.webdav.folder.listing.paths.allowed.regex</code> in <code>exo.properties</code> file :</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">    exo.webdav.folder.listing.paths.allowed.regex</span><span class="token punctuation">=</span><span class="token value attr-value">(collaboration:/Users/(.*)/(.*)/(.*)/(.*))|(collaboration:/Groups/(.*))|(collaboration:/sites/(.*))|(portal-system:/production/app:gadgets/(.*))</span>
</code></pre></div><p>The above example allows the listing access to theses folders: users
folders, groups folders, sites folders and gadgets folders.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>The value of the parameter
<code>exo.webdav.folder.listing.paths.allowed.regex</code> should respect this pattern : <strong>wokspace_Name:/regex</strong>.</p></div> <p>The default value of <code>exo.webdav.folder.listing.paths.allowed.regex</code> is set to empty which means that <strong>the contents of All JCR folders are listed</strong>.</p> <h2 id="jodconverter-configuration"><a href="#jodconverter-configuration" class="header-anchor">#</a> JODConverter configuration</h2> <p>In Sites Explorer or Activity Stream, users can preview documents of various types, without downloading it. To support this feature, eXo Platform uses the JODConverter service that requires OpenOffice or LibreOffice to be installed locally (in the same machine with the eXo Platform server).</p> <h3 id="installing-openoffice-libreoffice"><a href="#installing-openoffice-libreoffice" class="header-anchor">#</a> Installing OpenOffice/LibreOffice</h3> <p>Follow <a href="http://www.openoffice.org/installation/" target="_blank" rel="noopener noreferrer">OpenOffice guideline<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>or <a href="http://www.libreoffice.org/get-help/installation/" target="_blank" rel="noopener noreferrer">LibreOffice guideline<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to
install.</p> <p>Note that those softwares might be installed in some Linux distributions by the OS already.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>JODConverter is already built in eXo Platform, so you do not need to install it.</p></div> <h3 id="jodconverter-version"><a href="#jodconverter-version" class="header-anchor">#</a> JODConverter version</h3> <p>eXo Platform uses <a href="https://code.google.com/p/jodconverter/wiki/WhatsNewInVersion3" target="_blank" rel="noopener noreferrer">JODConverter v3.0<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> that enhances processing different file types much.</p> <h3 id="activating-and-deactivating"><a href="#activating-and-deactivating" class="header-anchor">#</a> Activating and deactivating</h3> <p>JODConverter is activated by default. You can deactivate it (and consequently not use the preview feature) by setting <code>exo.jodconverter.enable=false</code> in <code>exo.properties</code> file.</p> <h3 id="configurations"><a href="#configurations" class="header-anchor">#</a> Configurations</h3> <p>::: note
In most cases, you do not need to configure JODConverter because it can work with default configurations. However, if you are using OpenOffice 4 (or  ater), or have installed the Office server untypically, you will need to specify <strong>exo.jodconverter.officehome</strong> by yourself. See <code>Specifying exo.jodconverter.officehome</code>.
:::</p> <p>JODConverter configurations can be edited in the <code>exo.properties</code> file.</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment">    # JOD Converter</span>
<span class="token key attr-name">    exo.jodconverter.enable</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
<span class="token key attr-name">    exo.jodconverter.portnumbers</span><span class="token punctuation">=</span><span class="token value attr-value">2002</span>
<span class="token key attr-name">    exo.jodconverter.officehome</span><span class="token punctuation">=</span>
<span class="token key attr-name">    exo.jodconverter.taskqueuetimeout</span><span class="token punctuation">=</span><span class="token value attr-value">30000</span>
<span class="token key attr-name">    exo.jodconverter.taskexecutiontimeout</span><span class="token punctuation">=</span><span class="token value attr-value">120000</span>
<span class="token key attr-name">    exo.jodconverter.maxtasksperprocess</span><span class="token punctuation">=</span><span class="token value attr-value">200</span>
<span class="token key attr-name">    exo.jodconverter.retrytimeout</span><span class="token punctuation">=</span><span class="token value attr-value">120000</span>
</code></pre></div><h3 id="jodconverter"><a href="#jodconverter" class="header-anchor">#</a> JODConverter</h3> <table><thead><tr><th>Name</th> <th>Description</th> <th>Default</th></tr></thead> <tbody><tr><td>exo.jodconverter.enable</td> <td>Enable JODConverter or not?</td> <td>true</td></tr> <tr><td>exo.jodconverter.portnumbers</td> <td>List of ports used to create soffice processes.</td> <td>2002</td></tr> <tr><td>exo.jodconverter.officehome</td> <td>The home folder of the Office installation.</td> <td>Blank (auto-detected)</td></tr> <tr><td>exo.jodconverter.taskqueuetimeout</td> <td>the maximum living time in milliseconds of a task in the conversation queue.</td> <td>30000</td></tr> <tr><td>exo.jodconverter.taskexecutiontimeout</td> <td>The maximum time in milliseconds to process a task.</td> <td>120000</td></tr> <tr><td>exo.jodconverter.maxtasksperprocess</td> <td>The maximum number of tasks to process by an office server.</td> <td>200</td></tr> <tr><td>exo.jodconverter.retrytimeout</td> <td>The interval time in milliseconds to try to restart an office server in case it unexpectedly stops.</td> <td>120000</td></tr></tbody></table> <h2 id="limiting-public-access-to-the-upload-service"><a href="#limiting-public-access-to-the-upload-service" class="header-anchor">#</a> Limiting public access to the upload service</h2> <p>By default, unauthenticated users are not allowed to upload resources to the server through the Upload component on UI or by accessing directly the &quot;/upload&quot; handler, because this may cause some problems of server disk space. However, you can definitely configure the UploadHandler to allow this.</p> <p>To change this restriction, edit the <code>exo.portal.uploadhandler.public-restriction</code> property in the <code>exo.properties</code>   file as follows:
exo.portal.uploadhandler.public-restriction=false</p> <h2 id="customizing-site-data"><a href="#customizing-site-data" class="header-anchor">#</a> Customizing site data</h2> <p>eXo Platform provides A built-in site: DW or Digital Workplace. In case you want to customize data of the site, for example, modifying or overwriting the existing data, use the externalized parameters in <code>exo.properties</code> file.</p> <h3 id="dw"><a href="#dw" class="header-anchor">#</a> DW</h3> <ul><li><code>exo.dw.portalConfig.metadata.override</code>: Allow (<em>true</em>) or not allow (<em>false</em>) overriding the Intranet data.</li> <li><code>exo.dw.portalConfig.metadata.importmode</code>: Customize data import strategy (<em>CONSERVE</em>, <em>INSERT</em>, <em>MERGE</em>, or <em>OVERWRITE</em>).</li></ul> <h3 id="enabling-disabling-auto-creating-a-taxonomy-tree"><a href="#enabling-disabling-auto-creating-a-taxonomy-tree" class="header-anchor">#</a> Enabling/Disabling auto-creating a taxonomy tree</h3> <p>eXo Platform allows you to enable/disable auto-creating a taxonomy tree during a new site creation by adding the <code>ecms.taxonomy.autoCreateWithNewSite</code> parameter to <code>exo.properties</code> file.</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># Configuration for a taxonomy tree</span>
<span class="token key attr-name">ecms.taxonomy.autoCreateWithNewSite</span><span class="token punctuation">=</span><span class="token value attr-value">false</span>
</code></pre></div><p>By default, the parameter is set to <code>false</code>, it means the creation of a taxonomy tree is disabled when you create a new site.
To enable the function, simply set the parameter to <code>true</code>.</p> <h3 id="enabling-disabling-activity-link-preview"><a href="#enabling-disabling-activity-link-preview" class="header-anchor">#</a> Enabling/Disabling activity link preview</h3> <p>In eXo Platform, when <code>posting a link in activity stream</code>, the activity displays a preview for this link by fetching the title, an excerpt and a thumbnail of the linked resource.</p> <p>You can enable or disable the link preview by defining the parameter <code>exo.activity.link.preview.enabled</code> in <code>exo.properties</code> file.</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">exo.activity.link.preview.enabled</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
</code></pre></div><p>By default, the parameter is set to true i.e. the activities link preview is enabled.</p> <p>If you disable activities link preview i.e. set the variable <code>exo.activity.link.preview.enabled</code> to false, activities with links are rendered with the link URL only:</p> <h2 id="configure-spaces-administration-group"><a href="#configure-spaces-administration-group" class="header-anchor">#</a> Configure spaces administration group</h2> <p>By default, only the super user is able to manage all the spaces of the platform:</p> <ul><li>Create pages on spaces.</li> <li>Add/delete/promote members.</li> <li>Add/modify/delete space data (Notes pages, Documents, activities, tasks...).</li></ul> <p>Startng with eXo Platform 5.0 it is possible to define a group of users to manage spaces. This group of users is able to edit and delete all kind of spaces: visible and hidden.</p> <p>The group of spaces administrators could be defined by adding this property to <code>exo.properties</code> file:</p> <ul><li><code>exo.social.spaces.administrators</code></li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <ul><li><p>You should specify the membership type (*, member, manager...) in the value of the property.</p></li> <li><p>It is possible to specify a list of groups separated by commas  <strong>,</strong>.</p></li></ul></div> <p>In this example, all users of the two groups /platform/administrators and /developers are allowed to manage spaces:</p> <ul><li>exo.social.spaces.administrators=*:/platform/administrators,*:/developers</li></ul> <h2 id="logs"><a href="#logs" class="header-anchor">#</a> Logs</h2> <p>The logs of eXo Platform are controlled by the <a href="http://docs.oracle.com/javase/7/docs/technotes/guides/logging/index.html" target="_blank" rel="noopener noreferrer">Java Logging API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>By default, the logs are configured to:</p> <ul><li>log errors and warnings on the console.</li> <li>log <code>$PLATFORM_TOMCAT_HOME/logs/platform.log</code>.</li></ul> <p>The logs are configured via the file:</p> <ul><li><code>$PLATFORM_TOMCAT_HOME/conf/logback.xml</code>. Please refer to <a href="http://tomcat.apache.org/tomcat-8.5-doc/logging.html" target="_blank" rel="noopener noreferrer">Tomcat's Logging Documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for more information on how to adjust this file to your needs.</li></ul> <h2 id="hibernate-properties-for-jpa"><a href="#hibernate-properties-for-jpa" class="header-anchor">#</a> Hibernate properties for JPA</h2> <p>Since 4.3 version, eXo Platform uses Java Persistance API (JPA) to manage relational data and Hibernate as a JPA provider. In tis section, we will  define properties allowing to configure Hibernate in eXo Platform. The following properties should be set in <code>exo.properties</code> file.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>You can pass any Hibernate property to eXo platform by adding the prefix <code>exo.jpa.</code> before the property.
Example : exo.jpa.hibernate.show_sql</p></div> <table><thead><tr><th>Name</th> <th>Description</th> <th>Value</th></tr></thead> <tbody><tr><td>exo.jpa.hibernate.dialect</td> <td>The classname of a Hibernate org.hibernate.dialect.Dialect</td> <td>A fully-qualified classname for example for HSQl database it is org.hibernate.dialect.HSQLDialec t</td></tr> <tr><td>exo.jpa.hibernate.show_sql</td> <td>Enables/disables log about SQL statements.</td> <td>true or false</td></tr> <tr><td>exo.jpa.hibernate.format_sql</td> <td>Format log about SQL statements.</td> <td>true or false</td></tr> <tr><td>exo.jpa.hibernate.default_schema</td> <td>The schema name.</td> <td></td></tr> <tr><td>exo.jpa.hibernate.default_catalog</td> <td>The catalog name, it qualifies unqualified table names with the given catalog in generated SQL.</td> <td></td></tr> <tr><td>exo.jpa.hibernate.session_factory_name</td> <td>The org.hibernate.SessionFactory is automatically bound to this name in JNDI after it is created.</td> <td></td></tr> <tr><td>exo.jpa.hibernate.default_batch</td> <td>Default size for Hibernate batch fetching of associations.</td> <td>4,8 or 16</td></tr> <tr><td>exo.jpa.hibernate.default_entity_mode</td> <td>Default mode for entity representation for all sessions opened from this SessionFactory, defaults to pojo</td> <td>dynamic-map or pojo</td></tr> <tr><td>exo.jpa.hibernate.order_updates</td> <td>Forces Hibernate to order SQL updates by the primary key value of the items being updated. This reduces thelikelihood of transaction deadlocks in highly-concurrent systems.</td> <td>true or false</td></tr> <tr><td>exo.jpa.hibernate.order_by.default_null_ordering</td> <td>Defines precedence of null values in ORDER BY clause. Defaults to none which varies between RDBMS implementation.</td> <td>none, first or last</td></tr> <tr><td>exo.jpa.hibernate.generate_statistics</td> <td>Causes Hibernate to collect statistics for performance tuning</td> <td>true or false</td></tr> <tr><td>exo.jpa.hibernate.use_identifier_rollback</td> <td>if true, generated identifier properties are reset to default values when objects are deleted.</td> <td>true or false</td></tr> <tr><td>exo.jpa.hibernate.use_sql_comments</td> <td>If true, Hibernate generates comments inside the SQL, for easier debugging.</td> <td>true or false</td></tr> <tr><td>exo.jpa.hibernate.jdbc.fetch_size</td> <td>A non-zero value determines the An integer or 0 JDBC fetch size, by calling Statement.setFetchSize().</td> <td></td></tr> <tr><td>exo.jpa.hibernate.jdbc.batch_size</td> <td>A non-zero value causes Hibernate to use JDBC2 batch and 30 updates.A value between 5</td> <td></td></tr> <tr><td>exo.jpa.hibernate.jdbc.batch_versioned_data</td> <td>Set this property to true if your JDBC driver returns correct row counts from executeBatch(). This option is usually safe, but is disabled by default. If enabled, Hibernate uses batched DML for automatically versioned data.</td> <td>true or false</td></tr></tbody></table> <h2 id="jcr-configuration"><a href="#jcr-configuration" class="header-anchor">#</a> JCR Configuration</h2> <p>Because JCR Configuration is a very advanced topic, it is recommended that you:</p> <ul><li>Learn about eXo JCR configuration</li> <li>Use default values, change them only if you know what you are doing.</li> <li>Understand how to configure datasource</li></ul> <p>The configurations introduced here are a subset of JCR configurations. There are many JCR configurations which are packed in <code>.war</code> files, so you have to unpack to edit them. To avoid unpacking them, the subset is externalized to be configured easily in <code>exo.properties</code> file.</p> <p>Here is the list of externalized configurations with their short descriptions.</p> <ul><li>Repository:</li></ul> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">exo.jcr.repository.default</span><span class="token punctuation">=</span><span class="token value attr-value">repository</span>
<span class="token key attr-name">exo.jcr.workspace.default</span><span class="token punctuation">=</span><span class="token value attr-value">collaboration</span>
<span class="token key attr-name">exo.jcr.workspace.system</span><span class="token punctuation">=</span><span class="token value attr-value">system</span>
</code></pre></div><p>In which, &quot;repository&quot;, &quot;collaboration&quot; and &quot;system&quot; are names of default repository, default workspace and system workspace respectively.</p> <ul><li>Datasource:</li></ul> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">exo.jcr.datasource.name</span><span class="token punctuation">=</span><span class="token value attr-value">java:/comp/env/exo-jcr          </span>
<span class="token key attr-name">exo.jcr.datasource.dialect</span><span class="token punctuation">=</span><span class="token value attr-value">auto</span>
<span class="token key attr-name">exo.jcr.db-structure-type</span><span class="token punctuation">=</span><span class="token value attr-value">single</span>
</code></pre></div><p>These configurations are applied to all workspaces.</p> <ul><li>Jgroups:</li></ul> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">  exo.jcr.cluster.jgroups.config-url</span><span class="token punctuation">=</span><span class="token value attr-value">file:${exo.jcr.cluster.jgroups.config}</span>
</code></pre></div><p>This externalizes the <strong>jgroups-configuration</strong> parameter of all workspace caches, query-handlers and lock-managers.</p> <ul><li>Value Storage:</li></ul> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">  exo.jcr.storage.enabled</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
</code></pre></div><p>This externalizes the <strong>enabled</strong> property of file system value-storage (that is configured at workspace level). The <strong>true</strong> value (default) means all binary values are stored in file system. The <strong>false</strong> value means all binary values are stored in the database.</p> <h2 id="cache-configuration"><a href="#cache-configuration" class="header-anchor">#</a> Cache configuration</h2> <p>To retrieve and display content faster, eXo Platform uses some cache services.</p> <p>The below properties are all the cache configuration properties with their default value.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Default values should be changed to better tune eXo Platform.</p></div> <h3 id="templatecache"><a href="#templatecache" class="header-anchor">#</a> TemplateCache</h3> <p>The <strong>TemplateCache</strong> caches all Groovy templates of the portal by its template path and ResourceResolver. When the cached template is called, it will be loaded from cache rather than the database or the file system.</p> <ul><li>The cached Groovy template is invalidated when it is removed or modified.</li> <li>The <strong>TemplateCache</strong> size equals to the number of Groovy templates in cache.</li> <li>The maximum heap size is dependent on length of Groovy template. The size of a Groovy template is often less than 100KB, so the maximum heap size equals to the cache size multiplied by 100KB.</li></ul> <h3 id="resourcebundlecache"><a href="#resourcebundlecache" class="header-anchor">#</a> ResourceBundleCache</h3> <p>The <strong>ResourceBundleCache</strong> caches all resource bundles by name and
locale. When the cached resource bundle is called, it will be directly
loaded from cache rather than the database or the file system.</p> <ul><li>The cached resource bundle is invalidated when it is removed or
modified.</li> <li>The <strong>ResourceBundleCache</strong> size equals to the number of resource
bundles in cache.</li> <li>The maximum heap size is dependent on the size of resource bundle.
The size of a resource bundle is often less than 100KB, so the
maximum heap size equals to the cache size multiplied by 100KB.</li></ul> <h3 id="notications-settings-and-user-state-caches"><a href="#notications-settings-and-user-state-caches" class="header-anchor">#</a> Notications, settings and user state caches</h3> <p>eXo Platform provides a list of Caches for notifications, settings and user state</p> <p>The <em>Settings</em>, <em>Notifications</em> and <em>User State</em> caches can be overridden in <code>exo.properties</code> file.</p> <h4 id="notications-settings-and-user-state-caches-configuration"><a href="#notications-settings-and-user-state-caches-configuration" class="header-anchor">#</a> Notications, settings and user state Caches Configuration</h4> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment">    # Commons Cache Configuration - Settings Service</span>
<span class="token key attr-name">    exo.cache.commons.SettingService.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">2000</span>
<span class="token key attr-name">    exo.cache.commons.SettingService.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">360000</span>
<span class="token key attr-name">    exo.cache.commons.SettingService.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token comment">    # For cluster mode</span>
<span class="token key attr-name">    exo.cache.commons.SettingService</span><span class="token punctuation">=</span><span class="token value attr-value">asyncInvalidation</span>

<span class="token comment">    # Commons Cache Configuration - Web Notification Count</span>
<span class="token key attr-name">    exo.cache.commons.WebNotificationCountCache.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">5000</span>
<span class="token key attr-name">    exo.cache.commons.WebNotificationCountCache.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">-1</span>
<span class="token key attr-name">    exo.cache.commons.WebNotificationCountCache.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token key attr-name">    exo.cache.commons.WebNotificationCountCache.cacheMode</span><span class="token punctuation">=</span><span class="token value attr-value">asyncReplication</span>

<span class="token comment">    # Commons Cache Configuration - Web Notification</span>
<span class="token key attr-name">    exo.cache.commons.WebNotificationCache.MaxNode</span><span class="token punctuation">=</span><span class="token value attr-value">5000</span>
<span class="token key attr-name">    exo.cache.commons.WebNotificationCache.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">3600</span>
<span class="token key attr-name">    exo.cache.commons.WebNotificationCache.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token key attr-name">    exo.cache.commons.WebNotificationCache.cacheMode</span><span class="token punctuation">=</span><span class="token value attr-value">asyncReplication</span>

<span class="token comment">    # Commons Cache Configuration - Web Notifications</span>
<span class="token key attr-name">    exo.cache.commons.WebNotificationsCache.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">5000</span>
<span class="token key attr-name">    exo.cache.commons.WebNotificationsCache.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">3600</span>
<span class="token key attr-name">    exo.cache.commons.WebNotificationsCache.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token key attr-name">    exo.cache.commons.WebNotificationsCache.cacheMode</span><span class="token punctuation">=</span><span class="token value attr-value">asyncReplication</span>

<span class="token comment">    # Commons Cache Configuration - User State Service</span>
<span class="token key attr-name">    exo.cache.commons.UserStateService.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">5000</span>
<span class="token key attr-name">    exo.cache.commons.UserStateService.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">600</span>
<span class="token key attr-name">    exo.cache.commons.UserStateService.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token key attr-name">    exo.cache.commons.UserStateService.cacheMode</span><span class="token punctuation">=</span><span class="token value attr-value">asyncReplication</span>

<span class="token comment">    # Commons Cache Configuration - User Setting Service</span>
<span class="token key attr-name">    exo.cache.commons.UserSettingService.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">5000</span>
<span class="token key attr-name">    exo.cache.commons.UserSettingService.TimeToLivee</span><span class="token punctuation">=</span><span class="token value attr-value">86400</span>
<span class="token key attr-name">    exo.cache.commons.UserSettingService.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token key attr-name">    exo.cache.commons.UserSettingService.cacheMode</span><span class="token punctuation">=</span><span class="token value attr-value">asyncInvalidation</span>
</code></pre></div><p>The specific configuration of <strong>SettingCache</strong> can be found in the file:</p> <ul><li><code>$PLATFORM_TOMCAT_HOME/lib/commons-component-common-X.Y.Z.jar!/conf/portal/configuration.xml</code>.</li></ul> <h4 id="settingcache"><a href="#settingcache" class="header-anchor">#</a> SettingCache</h4> <p>The <strong>SettingCache</strong> caches the setting value for all contexts and all scopes. When any users ask for the cached setting value, it will be retrieved from cache rather than the database.</p> <ul><li>The <strong>SettingCache</strong> is never invalidated.</li> <li>The <strong>SettingCache</strong> size equals to the number of setting values in cache.</li> <li>Each entry of cache is a pair and key is a composite key(Context context, Scope scope, String key). The value is String, Double, Long or Boolean. In reality, the size of these values should be less than 100 bytes, so the maximum heap size equals to the cache size multiplied by 400 bytes.</li></ul> <h3 id="ecms-caches"><a href="#ecms-caches" class="header-anchor">#</a> ECMS caches</h3> <p>eXo Platform provides a list of ECMS caches, including:</p> <ul><li><code>Drive Cache</code></li> <li><code>Script Cache</code></li> <li><code>Fragment Cache</code></li> <li><code>Template Cache</code></li> <li><code>Initial Web Content Cache</code></li> <li><code>PDF Viewer Cache</code></li> <li><code>SEO Cache</code></li></ul> <p>Here are the configurations in
<code>exo.properties</code> file:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># == ECMS Caches Configuration == #</span>

<span class="token comment"># ECMS Cache Configuration - Drive Service</span>
<span class="token key attr-name">exo.cache.ecms.drive.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">5000</span>
<span class="token key attr-name">exo.cache.ecms.drive.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">600</span>
<span class="token key attr-name">exo.cache.ecms.drive.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token key attr-name">exo.cache.ecms.drive.cacheMode</span><span class="token punctuation">=</span><span class="token value attr-value">syncInvalidation</span>

<span class="token comment"># ECMS Cache Configuration - Script Service</span>
<span class="token key attr-name">exo.cache.ecms.scriptservice.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">300</span>
<span class="token key attr-name">exo.cache.ecms.scriptservice.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">86400</span>

<span class="token comment"># ECMS Cache Configuration - Fragment Cache Service (Markup Cache)</span>
<span class="token key attr-name">exo.cache.ecms.fragmentcacheservice.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">10000</span>
<span class="token key attr-name">exo.cache.ecms.fragmentcacheservice.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">30</span>

<span class="token comment"># ECMS Cache Configuration - Templates Service</span>
<span class="token key attr-name">exo.cache.ecms.templateservice.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">100</span>
<span class="token key attr-name">exo.cache.ecms.templateservice.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">-1</span>
<span class="token key attr-name">exo.cache.ecms.TemplateService.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token key attr-name">exo.cache.ecms.templateservice.cacheMode</span><span class="token punctuation">=</span><span class="token value attr-value">asyncReplication   </span>

<span class="token comment"># ECMS Cache Configuration - Initial Webcontent</span>
<span class="token key attr-name">exo.cache.ecms.initialwebcontentplugin.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">300</span>
<span class="token key attr-name">exo.cache.ecms.initialwebcontentplugin.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">86400</span>
<span class="token key attr-name">exo.cache.ecms.InitialWebContentPlugin.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token key attr-name">exo.cache.ecms.initialwebcontentplugin.cacheMode</span><span class="token punctuation">=</span><span class="token value attr-value">asyncInvalidation</span>

<span class="token comment"># ECMS Cache Configuration - PDF Viewer Service</span>
<span class="token key attr-name">exo.cache.ecms.PDFViewerService.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">1000</span>
<span class="token key attr-name">exo.cache.ecms.PDFViewerService.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">3600</span>
<span class="token key attr-name">exo.cache.ecms.PDFViewerService.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token key attr-name">exo.cache.ecms.PDFViewerService.cacheMode</span><span class="token punctuation">=</span><span class="token value attr-value">syncInvalidation</span>

<span class="token comment"># ECMS Cache Configuration - SEO Cache</span>
<span class="token key attr-name">exo.cache.ecms.seoservice.MaxNode</span><span class="token punctuation">=</span><span class="token value attr-value">1000</span>
<span class="token key attr-name">exo.cache.ecms.seoservice.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">3600</span>
<span class="token key attr-name">exo.cache.ecms.seoservice.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token key attr-name">exo.cache.ecms.seoservice.cacheMode</span><span class="token punctuation">=</span><span class="token value attr-value">asyncReplication</span>

<span class="token comment"># ECMS Cache Configuration - Query Service</span>
<span class="token key attr-name">exo.cache.ecms.queryservice.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">5000</span>
<span class="token key attr-name">exo.cache.ecms.queryservice.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">600000</span>
<span class="token key attr-name">exo.cache.ecms.queryservice.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token key attr-name">exo.cache.ecms.queryservice.cacheMode</span><span class="token punctuation">=</span><span class="token value attr-value">asyncReplication</span>

<span class="token comment"># ECMS Cache Configuration - SiteSearch Service found</span>
<span class="token key attr-name">exo.cache.ecms.sitesearchservice.found.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">10000</span>
<span class="token key attr-name">exo.cache.ecms.sitesearchservice.found.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">3600</span>

<span class="token comment"># ECMS Cache Configuration - SiteSearch Service drop</span>
<span class="token key attr-name">exo.cache.ecms.sitesearchservice.drop.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">10000</span>
<span class="token key attr-name">exo.cache.ecms.sitesearchservice.drop.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">3600       </span>

<span class="token comment"># ECMS Cache Configuration - Javascript Cache</span>
<span class="token key attr-name">exo.cache.ecms.javascript.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">1000</span>
<span class="token key attr-name">exo.cache.ecms.javascript.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">3600</span>
<span class="token key attr-name">exo.cache.ecms.javascript.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token key attr-name">exo.cache.ecms.javascript.cacheMode</span><span class="token punctuation">=</span><span class="token value attr-value">asyncReplication</span>

<span class="token comment"># ECMS Cache Configuration - Lock</span>
<span class="token key attr-name">exo.cache.ecms.lockservice.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">300</span>
<span class="token key attr-name">exo.cache.ecms.lockservice.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">-1</span>
<span class="token key attr-name">exo.cache.ecms.LockService.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token key attr-name">exo.cache.ecms.lockservice.cacheMode</span><span class="token punctuation">=</span><span class="token value attr-value">replication</span>

<span class="token comment"># ECMS Cache Configuration - Folksonomy Service</span>
<span class="token key attr-name">exo.cache.ecms.folkservice.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">300</span>
<span class="token key attr-name">exo.cache.ecms.folkservice.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">-1</span>
<span class="token key attr-name">exo.cache.ecms.folkservice.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token key attr-name">exo.cache.ecms.folkservice.cacheMode</span><span class="token punctuation">=</span><span class="token value attr-value">asyncReplication</span>
</code></pre></div><p>These properties are exposed via <code>exo.properties</code> for administrators.
The full configuration can be found in XML configuration files. For SEO Cache, the file is:</p> <ul><li><code>$PLATFORM_TOMCAT_HOME/webapps/ecm-wcm-extension.war!/WEB-INF/conf/wcm-extension/wcm/seo-configuration.xml</code>.</li></ul> <p>For the other caches, the file is:</p> <p>-
<code>$PLATFORM_TOMCAT_HOME/webapps/ecm-wcm-core.war!/WEB-INF/conf/wcm-core/core-services-configuration.xml</code>.
.. _ECMS.WCMDriveCache:</p> <h4 id="drive-cache"><a href="#drive-cache" class="header-anchor">#</a> Drive Cache</h4> <p>The <strong>managedrive</strong> caches visited drives of Sites Explorer by their names. When any users visit the cached drives, these drives will be directly retrieved from cache rather than the database.</p> <ul><li>The cache is invalidated when the drive is removed or added.</li> <li>The cache size equals to the number of drives in cache.</li> <li>The maximum heap size consumed by the cache are calculated as below:
<ul><li>Each item of drive cache contains: name, workspace, homePath, permission, view, icon, allowcreatefolders, viewReferences, viewNondocument, viewSidebar, showHiddenNode.</li> <li>The first 7 elements are String and their length often should not be greater than 1000 bytes.</li> <li>The last 4 elements are Boolean and the size of each element is 1 byte.</li> <li>Thus, the maximum heap size equals to the cache size multiplied by 7004 bytes.</li></ul></li></ul> <h4 id="script-cache"><a href="#script-cache" class="header-anchor">#</a> Script Cache</h4> <p>The <strong>scriptservice</strong> caches the ECMS Script objects. When there are any requests for cached scripts, these scripts are retrieved from cache rather than the database.</p> <ul><li>The <strong>scriptservice</strong> cache is never invalidated.</li> <li>The cache size equals to the number of scripts in cache.</li> <li>The maximum heap size equals to the cache size multiplied by size of the script object.</li></ul> <h4 id="template-cache"><a href="#template-cache" class="header-anchor">#</a> Template Cache</h4> <p>The <strong>templateservice</strong> caches the list of document nodetypes. When any users call for the cached document nodetypes, data will be retrieved from cache rather than the database.</p> <ul><li>The <strong>templateservice</strong> cache is invalidated when the document template is updated.</li> <li>The cache size is 1.</li> <li>The heap size consumed by the cache is unlimited. However the cache contains node names only, so it consumes less than 10KB.</li></ul> <h4 id="initial-web-content-cache"><a href="#initial-web-content-cache" class="header-anchor">#</a> Initial Web Content Cache</h4> <p>The <strong>webcontent.initialwebcontentplugin</strong> caches the artifacts (nodes) that are used to initialize a new portal. When a cached artifact is called, it will be read and returned from cache rather than the database.</p> <ul><li>The cache is never invalidated because the initial artifact is never changed.</li> <li>The cache size equals to the number of the cached artifacts.</li> <li>The maximum heap size equals to the total size of all artifacts.</li></ul> <h4 id="fragment-cache"><a href="#fragment-cache" class="header-anchor">#</a> Fragment Cache</h4> <p>The <strong>fragmentcacheservice</strong> caches content of SCVs and CLVs. When any users call for these cached portlets, these portlets will be retrieved from cache rather than the database.</p> <ul><li>The <strong>fragmentcacheservice</strong> is invalidated when SCVs and CLVs are switched from the edit to the live mode.</li> <li>The cache size equals to the number of SCVs/CLVs in cache.</li> <li>The maximum heap size consumed by the cache: total size of cached SCVs/CLVs (the SCVs/CLVs size is unlimited).</li></ul> <h4 id="pdf-viewer-cache"><a href="#pdf-viewer-cache" class="header-anchor">#</a> PDF Viewer Cache</h4> <p>The <strong>pdfviewer</strong> caches the path to a specific page of a specific PDF file. In eXo Platform, when a user views an Office document or PDF file, the viewed page is extracted into a PDF file, and REST is used to return that file content to client browser.</p> <ul><li>The <strong>pdfviewer</strong> cache is never invalidated.</li> <li>The cache size equals to the number of pages viewed by users.</li> <li>The maximum heap size equals to the cache size multiplied by 200 bytes (supposing that the longest file path is 200 characters).</li></ul> <h4 id="seo-cache"><a href="#seo-cache" class="header-anchor">#</a> SEO Cache</h4> <p>The <strong>seoservice</strong> caches the SEO metadata of all pages in all sites.When the SEO metadata of these cached pages are called, the created pages will be got based on the page path from cache rather than the database.</p> <ul><li>The <strong>seoservice</strong> cache is never invalidated.</li> <li>The cache size equals to the number of pages to which the SEO metadata is added.</li> <li>The maximum heap size is calculated as follows:
<ul><li>Each Metadata object contains 8 String objects: uri, rbcontent, keywords, description, title, frequency, fullStatus, pageReference. Each object is usually less than 100 characters.</li> <li>5 bytes (a float and a boolean) for priority and sitemap.</li> <li>Thus, the total heap size equals to the cache size multiplied by 805 bytes.</li></ul></li></ul> <h3 id="social-caches"><a href="#social-caches" class="header-anchor">#</a> Social caches</h3> <p>eXo Platform provides 4 Social caches, including:</p> <ul><li><code>IdentityCache</code></li> <li><code>RelationshipCache</code></li> <li><code>SpaceCache</code></li> <li><code>ActivityCache</code></li></ul> <p>You can change values of these Social caches in <code>exo.properties</code> file.</p> <p>In particular:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment">    # == SOCIAL Caches Configuration == #</span>

<span class="token comment">    # Social Cache Configuration - Identity</span>
<span class="token key attr-name">    exo.cache.social.IdentityCache.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">5000</span>
<span class="token key attr-name">    exo.cache.social.IdentityCache.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">86400</span>
<span class="token key attr-name">    exo.cache.social.IdentityCache.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token key attr-name">    exo.cache.social.IdentityCache.cacheMode</span><span class="token punctuation">=</span><span class="token value attr-value">asyncInvalidation</span>

<span class="token comment">    # Social Cache Configuration - Identity Index</span>
<span class="token key attr-name">    exo.cache.social.IdentityIndexCache.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">5000</span>
<span class="token key attr-name">    exo.cache.social.IdentityIndexCache.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">86400</span>
<span class="token key attr-name">    exo.cache.social.IdentityIndexCache.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token key attr-name">    exo.cache.social.IdentityIndexCache.cacheMode</span><span class="token punctuation">=</span><span class="token value attr-value">asyncInvalidation</span>

<span class="token comment">    # Social Cache Configuration - Profile</span>
<span class="token key attr-name">    exo.cache.social.ProfileCache.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">5000</span>
<span class="token key attr-name">    exo.cache.social.ProfileCache.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">86400</span>
<span class="token key attr-name">    exo.cache.social.ProfileCache.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token key attr-name">    exo.cache.social.ProfileCache.cacheMode</span><span class="token punctuation">=</span><span class="token value attr-value">asyncInvalidation</span>

<span class="token comment">    # Social Cache Configuration - Identities</span>
<span class="token key attr-name">    exo.cache.social.IdentitiesCache.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">5000</span>
<span class="token key attr-name">    exo.cache.social.IdentitiesCache.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">86400</span>
<span class="token key attr-name">    exo.cache.social.IdentitiesCache.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token key attr-name">    exo.cache.social.IdentitiesCache.cacheMode</span><span class="token punctuation">=</span><span class="token value attr-value">asyncInvalidation</span>

<span class="token comment">    # Social Cache Configuration - Identities Count</span>
<span class="token key attr-name">    exo.cache.social.IdentitiesCountCache.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">5000</span>
<span class="token key attr-name">    exo.cache.social.IdentitiesCountCache.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">86400</span>
<span class="token key attr-name">    exo.cache.social.IdentitiesCountCache.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token key attr-name">    exo.cache.social.IdentitiesCountCache.cacheMode</span><span class="token punctuation">=</span><span class="token value attr-value">asyncInvalidation</span>


<span class="token comment">    # Social Cache Configuration - Relationship</span>
<span class="token key attr-name">    exo.cache.social.RelationshipCache.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">10000</span>
<span class="token key attr-name">    exo.cache.social.RelationshipCache.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">86400</span>
<span class="token key attr-name">    exo.cache.social.RelationshipCache.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token key attr-name">    exo.cache.social.RelationshipCache.cacheMode</span><span class="token punctuation">=</span><span class="token value attr-value">asyncReplication</span>

<span class="token comment">    # Social Cache Configuration - Relationship From Identity</span>
<span class="token key attr-name">    exo.cache.social.RelationshipFromIdentityCache.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">10000</span>
<span class="token key attr-name">    exo.cache.social.RelationshipFromIdentityCache.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">86400</span>
<span class="token key attr-name">    exo.cache.social.RelationshipFromIdentityCache.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token key attr-name">    exo.cache.social.RelationshipFromIdentityCache.cacheMode</span><span class="token punctuation">=</span><span class="token value attr-value">asyncReplication</span>

<span class="token comment">    # Social Cache Configuration - Relationships Count</span>
<span class="token key attr-name">    exo.cache.social.RelationshipsCountCache.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">5000</span>
<span class="token key attr-name">    exo.cache.social.RelationshipsCountCache.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">86400</span>
<span class="token key attr-name">    exo.cache.social.RelationshipsCountCache.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token key attr-name">    exo.cache.social.RelationshipsCountCache.cacheMode</span><span class="token punctuation">=</span><span class="token value attr-value">asyncReplication</span>

<span class="token comment">    # Social Cache Configuration - Relationships</span>
<span class="token key attr-name">    exo.cache.social.RelationshipsCache.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">5000</span>
<span class="token key attr-name">    exo.cache.social.RelationshipsCache.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">86400</span>
<span class="token key attr-name">    exo.cache.social.RelationshipsCache.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token key attr-name">    exo.cache.social.RelationshipsCache.cacheMode</span><span class="token punctuation">=</span><span class="token value attr-value">asyncReplication</span>

<span class="token comment">    # Social Cache Configuration - Activity</span>
<span class="token key attr-name">    exo.cache.social.ActivityCache.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">6000</span>
<span class="token key attr-name">    exo.cache.social.ActivityCache.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">3600</span>
<span class="token key attr-name">    exo.cache.social.ActivityCache.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token key attr-name">    exo.cache.social.ActivityCache.cacheMode</span><span class="token punctuation">=</span><span class="token value attr-value">asyncReplication</span>

<span class="token comment">    # Social Cache Configuration - Activities Count</span>
<span class="token key attr-name">    exo.cache.social.ActivitiesCountCache.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">5000</span>
<span class="token key attr-name">    exo.cache.social.ActivitiesCountCache.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">86400</span>

<span class="token comment">    # Social Cache Configuration - Activities</span>
<span class="token key attr-name">    exo.cache.social.ActivitiesCache.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">5000</span>
<span class="token key attr-name">    exo.cache.social.ActivitiesCache.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">86400</span>

<span class="token comment">    # Social Cache Configuration - Space</span>
<span class="token key attr-name">    exo.cache.social.SpaceCache.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">500</span>
<span class="token key attr-name">    exo.cache.social.SpaceCache.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">86400</span>
<span class="token key attr-name">    exo.cache.social.SpaceCache.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token key attr-name">    exo.cache.social.SpaceCache.cacheMode</span><span class="token punctuation">=</span><span class="token value attr-value">asyncReplication</span>

<span class="token comment">    # Social Cache Configuration - Space Ref</span>
<span class="token key attr-name">    exo.cache.social.SpaceRefCache.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">2000</span>
<span class="token key attr-name">    exo.cache.social.SpaceRefCache.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">86400</span>
<span class="token key attr-name">    exo.cache.social.SpaceRefCache.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token key attr-name">    exo.cache.social.SpaceRefCache.cacheMode</span><span class="token punctuation">=</span><span class="token value attr-value">asyncReplication</span>

<span class="token comment">    # Social Cache Configuration - Spaces Count</span>
<span class="token key attr-name">    exo.cache.social.SpacesCountCache.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">5000</span>
<span class="token key attr-name">    exo.cache.social.SpacesCountCache.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">86400</span>
<span class="token key attr-name">    exo.cache.social.SpacesCountCache.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token key attr-name">    exo.cache.social.SpacesCountCache.cacheMode</span><span class="token punctuation">=</span><span class="token value attr-value">asyncInvalidation</span>

<span class="token comment">    # Social Cache Configuration - Spaces</span>
<span class="token key attr-name">    exo.cache.social.SpacesCache.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">5000</span>
<span class="token key attr-name">    exo.cache.social.SpacesCache.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">86400</span>
<span class="token key attr-name">    exo.cache.social.SpacesCache.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token key attr-name">    exo.cache.social.SpacesCache.cacheMode</span><span class="token punctuation">=</span><span class="token value attr-value">asyncInvalidation</span>

<span class="token comment">    # Social Cache Configuration - Active Identities</span>
<span class="token key attr-name">    exo.cache.social.ActiveIdentitiesCache.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">4000</span>
<span class="token key attr-name">    exo.cache.social.ActiveIdentitiesCache.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">86400</span>
<span class="token key attr-name">    exo.cache.social.ActiveIdentitiesCache.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token key attr-name">    exo.cache.social.ActiveIdentitiesCache.cacheMode</span><span class="token punctuation">=</span><span class="token value attr-value">asyncInvalidation</span>

<span class="token comment">    # Social Cache Configuration - Suggestions Cache</span>
<span class="token key attr-name">    exo.cache.social.SuggestionsCache.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">5000</span>
<span class="token key attr-name">    exo.cache.social.SuggestionsCache.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">86400</span>
<span class="token key attr-name">    exo.cache.social.SuggestionsCache.strategy</span><span class="token punctuation">=</span><span class="token value attr-value">LIRS</span>
<span class="token key attr-name">    exo.cache.social.SuggestionsCache.cacheMode</span><span class="token punctuation">=</span><span class="token value attr-value">asyncInvalidation</span>
</code></pre></div><p>The specific configuration of each Social cache can be found in:</p> <ul><li><code>$PLATFORM_TOMCAT_HOME/webapps/social-extension.war!/WEB-INF/conf/social-extension/social/cache-configuration.xml</code>.</li></ul> <h4 id="identitycache"><a href="#identitycache" class="header-anchor">#</a> IdentityCache</h4> <p>The <strong>IdentityCache</strong> caches information related to identities, such as index, count or profile. When any users view or take actions on users/spaces or activity page that contains the cached identity information, information will be directly retrieved from cache rather than the database.</p> <ul><li>The <strong>IdentityCache</strong> is invalidated when the user/space is deleted or updated.</li> <li>The <strong>IdentityCache</strong> size equals to the number of identities in cache.</li> <li>The maximum heap size is calculated as follows:
<ul><li>Identity Data: 33Kb (Max size: 500)</li> <li>Identity Index: 24Kb (Max size: 500)</li> <li>Identities List: 3747Kb (Max size: 2000)</li> <li>Identities Count: 739Kb (Max size: 2000)</li> <li>Profile Data: 170Kb (Max size: 500)</li></ul></li></ul> <h4 id="relationshipcache"><a href="#relationshipcache" class="header-anchor">#</a> RelationshipCache</h4> <p>The <strong>RelationshipCache</strong> caches relationship information of users in the social networking. Any connection status (connection, pending,invitation, suggestion and count of relationships) is cached. When any users ask for these cached relationships, their information will be retrieved from cache rather than the database.</p> <ul><li>The <strong>RelationshipCache</strong> is invalidated when the connection is changed/removed or when a new connection is added.</li> <li>The <strong>RelationshipCache</strong> size equals to the number of relationships in cache.</li> <li>The maximum heap size is calculated as follows:
<ul><li>Relationship Data: 14610Kb (Max size: 20000)</li> <li>Relationships Count: 16Kb (Max size: 800)</li> <li>Relationships: 171Kb (Max size: 800)</li> <li>Suggestion: 400Kb (Max size: 500)</li></ul></li></ul> <h4 id="spacecache"><a href="#spacecache" class="header-anchor">#</a> SpaceCache</h4> <p>The <strong>SpaceCache</strong> caches all information of spaces, including the count and space references. When any users visit the cached spaces, their information will be retrieved from cache rather than the database.</p> <ul><li>The <strong>SpaceCache</strong> is invalidated when the space is deleted or updated.</li> <li>The <strong>SpaceCache</strong> size equals to the number of spaces in cache.</li> <li>The maximum heap size is calculated as follows:
<ul><li>Space Data: 1177Kb (Max size: 1000)</li> <li>Spaces List: 1126Kb (Max size: 1000)</li> <li>Spaces Count: 203Kb (Max size: 4000)</li> <li>Space Ref: (38Kb) (Max size: 10000)</li></ul></li></ul> <h4 id="activitycache"><a href="#activitycache" class="header-anchor">#</a> ActivityCache</h4> <p>The <strong>ActivityCache</strong> caches information related to activities, such as the count of activities. When any users visit the cached activities,information of these activities will be retrieved from cache rather than the database.</p> <ul><li>The <strong>ActivityCache</strong> is invalidated when the activity is deleted or updated (a new comment is added to the activity).</li> <li>The <strong>ActivityCache</strong> size equals to the number of activities in cache.</li> <li>The maximum heap size is calculated as follows:
<ul><li>Activities Data: 3697Kb (Max size: 10000)</li> <li>Activities List: 2555Kb (Max size: 4000)</li> <li>Activities Count: 98Kb (Max size: 4000)</li></ul></li></ul> <h3 id="wallet-caches"><a href="#wallet-caches" class="header-anchor">#</a> Wallet caches</h3> <p>eXo Platform provides 2 wallet caches:</p> <ul><li><code>Wallet account cache</code></li> <li><code>Wallet transaction cache</code></li></ul> <p>You can add new values of these caches in <code>exo.properties</code> file.</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">exo.cache.wallet.account.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">2000</span>
<span class="token key attr-name">exo.cache.wallet.account.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">-1</span>
<span class="token key attr-name">exo.cache.wallet.transactions.MaxNodes</span><span class="token punctuation">=</span><span class="token value attr-value">2000</span>
<span class="token key attr-name">exo.cache.wallet.transactions.TimeToLive</span><span class="token punctuation">=</span><span class="token value attr-value">-1</span>
</code></pre></div><p>The specific configuration of wallet caches can be found in:</p> <ul><li><code>$PLATFORM_TOMCAT_HOME/webapps/wallet-common.war!/WEB-INF/wallet/cache-configuration.xml</code>.</li></ul> <h4 id="wallet-account-cache"><a href="#wallet-account-cache" class="header-anchor">#</a> Wallet account cache</h4> <p>The <strong>Wallet account cache</strong> caches the Wallet objects. This object contains metadata information of a wallet, such as identity id, username, space pretty name, wallet enablement... When any user get access to their wallet or a space wallet, the cached wallet object will be retrieved from cache rather than the database.</p> <ul><li>The cached <strong>Wallet account</strong> is invalidated when the user updates its metadata such as reimporting its private key.</li> <li>The <strong>Wallet account cache</strong> size should be equal to the number of wallets used in eXo Platform.</li> <li>Each Wallet object take about 400 bytes in memory. So the maximum heap size occupied by the wallet cache would be its size multiplied by 400 bytes.</li></ul> <h4 id="wallet-transactions-cache"><a href="#wallet-transactions-cache" class="header-anchor">#</a> Wallet Transactions cache</h4> <p>The <strong>Wallet Transactions cache</strong> caches the blockchain transaction metadata sent by a wallet. This object contains information such as transaction hash, username, space pretty name, transaction status... When any user get access to the list of their transactions or a space allet transactions, the cached wallet transactions objects will be retrieved from cache rather than the database.</p> <ul><li>The cached <strong>Wallet transaction</strong> is invalidated when the users updates their metadata such as changing transaction status from <em>pending</em> to <em>success</em> or <em>failed</em>.</li> <li>The <strong>Wallet transaction cache</strong> size should equals the number of wallet accounts multiplied by the first transactions list page size (10 elements per page).</li> <li>Each Wallet transaction object take about 700 bytes in memory. So the maximum heap size occupied by the wallet transaction cache would be its size multiplied by 700 bytes.</li></ul> <h3 id="predefined-users-groups-and-memberships"><a href="#predefined-users-groups-and-memberships" class="header-anchor">#</a> Predefined users, groups and memberships</h3> <p>When eXo Platform starts for the first time, it initializes some users, groups and memberships, such as user <em>root</em> and group <em>/platform</em>. Some user attributes are set also, including password, firstname, lastname and email.
First you should get familiar with the expression of <em>group</em> and <em>membership</em>. If a user has the <em>member:/platform/users</em> membership, it means the user is a <em>member</em> of the <em>/platform/users</em> group. The groups are organized like a tree, in which <em>/platform/users</em> is a sub-group of <em>/platform</em> group.</p> <p>A membership is formed by a <em>membership type</em> and a group. <em>Member, editor and manager</em> are some of predefined membership types. So strictly speaking, &quot;membership type&quot; and &quot;membership&quot; are different concepts. However, the word &quot;membership&quot; is sometimes used with the meaning of &quot;membership type&quot;.</p> <p>Next you will learn the configurations of predefined users, groups and memberships which are written in:</p> <ul><li><code>$PLATFORM_TOMCAT_HOME/webapps/platform-extension.war!/WEB-INF/conf/organization/organization-configuration.xml</code>.</li></ul> <p>This section does not directly aim at changing those predefined organizational data, but if it is the further step you want to go, you can easily perform via the <code>extension mechanism</code>   provided by eXo Platform.</p> <h3 id="organizational-data-initializer"><a href="#organizational-data-initializer" class="header-anchor">#</a> Organizational data initializer</h3> <p>At top of the configuration file, you see the initializer declaration that is supposed to create all the predefined data discussed here:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component-plugin</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>init.service.listener<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set-method</span><span class="token punctuation">&gt;</span></span>addListenerPlugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set-method</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">&gt;</span></span>org.exoplatform.services.organization.OrganizationDatabaseInitializer<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>this listener populate organization data for the first launch<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-params</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value-param</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>checkDatabaseAlgorithm<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>check database<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>entry<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value-param</span><span class="token punctuation">&gt;</span></span>
        ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-params</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component-plugin</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Notice the value of <em>checkDatabaseAlgorithm</em>. If it is set to <em>entry</em>, each user, group and membership listed in the configuration is checked each time eXo Platform is started. If an entry does not exist in the database yet, it will be created. If the value is set to <em>empty</em>, the data  ill be updated to the database only if the database is empty.</p> <h3 id="predefined-membership-types"><a href="#predefined-membership-types" class="header-anchor">#</a> Predefined membership types</h3> <p>All predefined membership types can be found under the <em>membershipType</em> field. Here is an extract:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>membershipType<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collection</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>java.util.ArrayList<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>object</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.exoplatform.services.organization.OrganizationConfig$MembershipType<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>type<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>field</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>description<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>Any membership type<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>field</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>object</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>object</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.exoplatform.services.organization.OrganizationConfig$MembershipType<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>type<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>manager<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>field</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>description<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>manager membership type<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>field</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>object</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
        ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>collection</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>field</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="predefined-groups"><a href="#predefined-groups" class="header-anchor">#</a> Predefined groups</h3> <p>All predefined groups can be found under the <em>group</em> field. Here is an extract:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>group<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collection</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>java.util.ArrayList<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>object</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.exoplatform.services.organization.OrganizationConfig$Group<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>developers<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>field</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parentId<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>field</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>description<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>the /developers group<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>field</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>label<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>Development<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>field</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>object</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
        ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>collection</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>field</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="predefined-users"><a href="#predefined-users" class="header-anchor">#</a> Predefined users</h3> <p>All predefined users can be found under the <em>user</em> field. The configurations are username, firstname, lastname, email, password and the list of emberships granted to the user. Here is an extract:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collection</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>java.util.ArrayList<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>object</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.exoplatform.services.organization.OrganizationConfig$User<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>${exo.super.user}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>field</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>password<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>field</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>firstName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>Root<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>field</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lastName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>Root<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>field</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>root@localhost<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>field</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>groups<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>*:/platform/administrators,*:/platform/users,*:/platform/web-contributors,*:/organization/employees,member:/organization/management/executive-board<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>field</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>object</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
        ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>collection</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>field</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Note that the code above uses the <em>exo.super.user</em> property which is set to <em>root</em> in <code>exo.properties</code> file:</p> <h3 id="excluded-characters"><a href="#excluded-characters" class="header-anchor">#</a> Excluded characters</h3> <p>By default only the whitespace is recognized as the word separator</p> <ul><li>means if the data is &quot;Lorem Ipsum&quot;, there are two indexes will be created for &quot;Lorem&quot; and &quot;Ipsum&quot;.</li></ul> <p>The built-in indexing service of eXo Platform allows more word separators, like dot (.) or hyphen (-). To define those, edit the property <code>exo.unified-search.excluded-characters</code>.</p> <p>When a user types a phrase to search, the word separator is used also. For example if hyphen is configured, and the user types &quot;Lorem-Ipsum&quot; then the query is sent as if it is two words.</p> <h2 id="elasticsearch-configuration"><a href="#elasticsearch-configuration" class="header-anchor">#</a> Elasticsearch Configuration</h2> <h3 id="properties-of-the-elasticsearch-client"><a href="#properties-of-the-elasticsearch-client" class="header-anchor">#</a> Properties of the Elasticsearch client</h3> <p>eXo Platform communicates with the Elasticsearch server via multiple components through so-called client code. The client code differentiates calls done to the server for indexing and for searching. It allows to have different a deployment topology where different Elasticsearch server  have different roles. The following client paramters are configurable in <code>exo.properties</code></p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment">    ################################ Elasticsearch ################################</span>
<span class="token key attr-name">    exo.es.embedded.enabled</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
<span class="token key attr-name">    exo.es.index.server.url</span><span class="token punctuation">=</span><span class="token value attr-value">http://127.0.0.1:9200</span>
<span class="token key attr-name">    exo.es.index.server.username</span><span class="token punctuation">=</span><span class="token value attr-value">root</span>
<span class="token key attr-name">    exo.es.index.server.password</span><span class="token punctuation">=</span><span class="token value attr-value">xxxxx</span>
<span class="token key attr-name">    exo.es.indexing.batch.number</span><span class="token punctuation">=</span><span class="token value attr-value">1000</span>
<span class="token key attr-name">    exo.es.indexing.replica.number.default</span><span class="token punctuation">=</span><span class="token value attr-value">1</span>
<span class="token key attr-name">    exo.es.indexing.shard.number.default</span><span class="token punctuation">=</span><span class="token value attr-value">5</span>
<span class="token key attr-name">    exo.es.indexing.request.size.limit</span><span class="token punctuation">=</span><span class="token value attr-value">10485760</span>
<span class="token key attr-name">    exo.es.reindex.batch.size</span><span class="token punctuation">=</span><span class="token value attr-value">100</span>
<span class="token key attr-name">    exo.es.search.server.url</span><span class="token punctuation">=</span><span class="token value attr-value">http://127.0.0.1:9200</span>
<span class="token key attr-name">    exo.es.search.server.username</span><span class="token punctuation">=</span><span class="token value attr-value">root</span>
<span class="token key attr-name">    exo.es.search.server.password</span><span class="token punctuation">=</span><span class="token value attr-value">xxxxx</span>
<span class="token key attr-name">``</span> <span class="token value attr-value">   </span>

<span class="token key attr-name">It</span> <span class="token value attr-value">is also possible to configure the number of connection in the http connections pool used for search and indexing calls to Elasticsearch by defining these parameters:</span>

```properties
<span class="token key attr-name">    exo.es.search.http.connections.max</span><span class="token punctuation">=</span><span class="token value attr-value">2</span>
<span class="token key attr-name">    exo.es.index.http.connections.max</span><span class="token punctuation">=</span><span class="token value attr-value">2</span>
</code></pre></div><p><code>exo.es.search.http.connections.max</code> is the maximum number of connections in the HTTP connections pool for Elasticsearch search calls. Default alue set to 2. <code>exo.es.index.http.connections.max</code> is the maximum number of connections in the HTTP connections pool for Elasticsearch indexing calls. Default value set to 2.</p> <h3 id="properties-of-the-indexing-processor-and-connectors"><a href="#properties-of-the-indexing-processor-and-connectors" class="header-anchor">#</a> Properties of the indexing processor and connectors</h3> <p>The properties below allow to configure indexing parameters such as the number of shards, replicas, batch size...</p> <p>For more details about indexing with Elasticseach, you can take a look in this <code>documentation</code>  .</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment">    ################################ Properties of the indexing processor ################################</span>
<span class="token key attr-name">    exo.es.indexing.batch.number</span><span class="token punctuation">=</span><span class="token value attr-value">1000</span>
<span class="token key attr-name">    exo.es.indexing.request.size.limit</span><span class="token punctuation">=</span><span class="token value attr-value">10485760</span>
<span class="token key attr-name">    exo.es.reindex.batch.size</span><span class="token punctuation">=</span><span class="token value attr-value">100</span>
<span class="token comment">    ################################ Properties of the indexing connectors ################################</span>
<span class="token key attr-name">    exo.es.indexing.replica.number.default</span><span class="token punctuation">=</span><span class="token value attr-value">1</span>
<span class="token key attr-name">    exo.es.indexing.shard.number.default</span><span class="token punctuation">=</span><span class="token value attr-value">5</span>
</code></pre></div><h2 id="cometd"><a href="#cometd" class="header-anchor">#</a> CometD</h2> <h3 id="what-is-cometd"><a href="#what-is-cometd" class="header-anchor">#</a> What is CometD?</h3> <p><a href="https://docs.cometd.org/current/reference/" target="_blank" rel="noopener noreferrer">CometD<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is a set of libraries that facilitates the writing of web applications that perform messaging over the web such as web chat applications.</p> <p>The role of CometD is to deliver messages over the wire using the best available transport: Websocket or HTTP, independently of the APIs used in the application. It also provides transparent fallback in case WebSocket does not work.</p> <h3 id="cometd-clustering"><a href="#cometd-clustering" class="header-anchor">#</a> CometD clustering</h3> <p><a href="https://docs.cometd.org/current/reference/" target="_blank" rel="noopener noreferrer">CometD<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> provides a clustering solution called Oort that allows you to scale horizontally your web applications. With a CometD based system in cluster mode, clients connect to multiple nodes instead of a single node.</p> <p><a href="https://docs.cometd.org/current/reference/#_java_oort" target="_blank" rel="noopener noreferrer">Oort<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> clustering is not a high-availability solution. In fact, when a node is down, all the clients are disconnected and then connected to another node by a new handshake. When this happens then if the application did not implement a method to retrieve information, the data build on the client side is lost.</p> <h3 id="cometd-configuration"><a href="#cometd-configuration" class="header-anchor">#</a> CometD configuration</h3> <p>To configure CometD in either cluster or standalone mode, some parameters are needed. A list of parameters is provided in <a href="https://docs.cometd.org/" target="_blank" rel="noopener noreferrer">CometD's official documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>All <a href="https://docs.cometd.org/current/reference/" target="_blank" rel="noopener noreferrer">CometD<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> parameters are configurable in eXo Platform in the <code>exo.properties</code> file by prefixing  them with <strong>exo.cometd.</strong>. For example, to override the maximum size of Websocket messages, a value must be set for the parameter <code>ws.maxMessageSize</code>. Thus, in eXo Platform this value must be set in <code>exo.properties</code> through the <code>exo.cometd.ws.maxMessageSize</code>.</p></div> <table><thead><tr><th>Name</th> <th>Description</th> <th>Default</th></tr></thead> <tbody><tr><td>exo.cometd.oort.url</td> <td>The CometD Oort URL used in clustering mode, ITS VALUE IS the hostname or the IP of the cluster node.</td> <td></td></tr> <tr><td>exo.cometd.oort.configType</td> <td>The CometD configuration type which could be either &quot;static&quot; or &quot;multicast&quot;.</td> <td>multicast</td></tr> <tr><td>exo.cometd.oort.cloud</td> <td>A comma-separated list of URLs of other Oort comets to connect to at startup.</td> <td></td></tr></tbody></table> <h2 id="youtube-integration"><a href="#youtube-integration" class="header-anchor">#</a> Youtube integration</h2> <p>eXo Platform uses YouTube Data API v3 that provides access to YouTube data, such as videos, playlists, and channels. To enable this, you should configure a Youtube V3 API Key property via <code>exo.properties</code> file.</p> <p>For instance:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">    youtube.v3.api.key</span><span class="token punctuation">=</span><span class="token value attr-value">AIzaSyDToZc6oTOpe7kZIJeSUMvxfyoS6hhKJuI</span>
</code></pre></div><p>In which:</p> <ul><li><code>youtube.v3.api.key</code>: an API key which is generated by a specific google account.</li></ul> <h2 id="notification"><a href="#notification" class="header-anchor">#</a> Notification</h2> <p>The feature related to configuration in this section is the Email/On-site notification. Here are some aspects of the feature:</p> <ul><li><p>Users can receive daily/weekly emails that sum up the activities they are interested in. This is performed in the background by jobs called <code>NotificationDailyJob</code> and <code>NotificationWeeklyJob</code>.</p></li> <li><p>In the Web UI, the notifications pop up immediately when an activity happens. And there is a page called &quot;View All&quot; where users can see    all the recent notifications.
In the background, a job called <code>WebNotificationJob</code> takes care to remove notifications that are older than a configurable live time.
Here under is the list of related properties that you can configure via <code>exo.properties</code> file.</p></li> <li><p><code>exo.notification.NotificationDailyJob.expression</code> : This is the Cron expression to schedule the daily emails. By default it is <em>0 0 23 ? * *</em> (11:00pm every day).</p></li> <li><p><code>exo.notification.NotificationWeeklyJob.expression</code> : This is the Cron expression to schedule the weekly emails. By default it is <em>0 0 11 ? * SUN</em> (11:00am every Sunday).</p></li> <li><p><code>exo.notification.service.QueueMessage.period</code> : When they run, the jobs divide emails into batches and send them sequentially for preventing overloads. This configuration is the delay time (<strong>in seconds</strong>) between two batches. The default is 60 (one minute).</p></li> <li><p><code>exo.notification.service.QueueMessage.numberOfMailPerBatch</code> : This is the (maximum) number of emails of each batch. The default is 30.</p></li> <li><p><code>exo.notification.portalname</code> : This is the &quot;from&quot; field in the emails. The default is <em>eXo</em>.</p></li> <li><p><code>exo.notification.maxitems</code> : The maximum number of notifications displayed in the popover list. The default is <em>8</em>.</p></li> <li><p><code>exo.notification.viewall</code> : The number of days a notification takes place in the &quot;View All&quot; page. When it reaches its live time, it will be removed by the WebNotificationJob. The default is <em>30 (days)</em>.</p></li> <li><p><code>exo.notification.WebNotificationCleanJob.expression</code> : The Cron expression to schedule the WebNotificationJob. By default
it runs at 11:00pm every day (<em>0 0 23 ? * *</em>).</p></li></ul> <h3 id="notification-channels-configuration"><a href="#notification-channels-configuration" class="header-anchor">#</a> Notification channels configuration</h3> <p>In eXo Platform, two notification channels are available by default:</p> <ul><li>Web channel: notifications are sent on the web browser.</li> <li>Email channel: notifications are sent via the email.</li></ul> <p>It is possible to define which channels to activate through the parameter <code>exo.notification.channels</code> in <code>exo.properties</code> file.
It is a comma separated property which could take these values:</p> <ul><li>MAIL_CHANNEL</li> <li>WEB_CHANNEL</li></ul> <p>By default (when the property is not customized or empty), all the available channels are activated. When a notification channel is added through an extension, it is automatically activated.</p> <h2 id="document-versioning"><a href="#document-versioning" class="header-anchor">#</a> Document versioning</h2> <p>By default, versioning is enabled for documents contained in the <strong>Managed Sites</strong>, <strong>Groups</strong> and <strong>Personal Documents</strong> drives. To change this configuration, edit the <code>exo.ecms.documents.versioning.drives</code> property in the <code>exo.properties</code> file.
For example:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">    exo.ecms.documents.versioning.drives</span><span class="token punctuation">=</span><span class="token value attr-value">Managed Sites,Personal Documents</span>
</code></pre></div><p>in which the drives are separated by commas.</p> <p>Besides, to control the data arisen from this feature, eXo Platform provides you with the two properties:</p> <ul><li><code>exo.ecms.documents.versions.max</code>: defines the maximum number of versions that a document can have. When the maximum number of versions is reached, only the X last versions are kept while the other ones are permanently deleted. A non-positive value means no limit - by default this property is set to 0 (no limit).</li> <li><code>exo.ecms.documents.versions.expiration</code>: defines the expiration time (in days) of a document version. When the expiration time is reached, the version is permanently deleted. The last version of a document is never deleted. A non-positive value means no limit - by default this property is set to 0 (no limit).</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If the value of the property <code>exo.ecms.documents.versioning.drives</code> is updated to add or remove drives, the documents already existing in the old and new drives are not impacted. Only the new documents are impacted by the updates. All the previous rules apply, depending on whether the document is versioned or not.</p></div> <h2 id="document-viewer"><a href="#document-viewer" class="header-anchor">#</a> Document Viewer</h2> <p>The <code>Document Viewer</code> relies on <code>document conversion on serverside</code>   which can take significant resources on large files. In order to avoid  xcessive resource consumption, this component limits the size of files it can display. Limits are set both in file weight and in number of pages in the document:</p> <ul><li><code>exo.ecms.documents.pdfviewer.max-file-size</code>: defines the maximum size in Megabytes that a file can weight to be displayed in the document viewer. Beyond that size, the document viewer displays a warning message instead of the document content :
Default limit is 10MB. Any non-positive or invalid value will fallback to default.</li> <li><code>exo.ecms.documents.pdfviewer.max-pages</code>: defines the maximum number of pages that a document can contain to be displayed in the document viewer. Beyond that number of pages, the document viewer displays a warning message instead of the document content.</li></ul> <p>Default limit is 99 pages. Any non-positive value or invalid value will fallback to default.</p> <h2 id="forgot-password"><a href="#forgot-password" class="header-anchor">#</a> Forgot Password</h2> <p>If you forget your password, you can request the system to send you a link to reset it. The link will be sent to your email and will expire as soon as you successfully reset the password or after an expiration time.</p> <p>The expiration time is 24 hours by default. To change it, edit the following in <code>exo.properties</code> file.</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">  exo.portal.resetpassword.expiretime</span><span class="token punctuation">=</span><span class="token value attr-value">24</span>
</code></pre></div><p>The time unit is hour.</p> <h2 id="password-encryption"><a href="#password-encryption" class="header-anchor">#</a> Password Encryption</h2> <p>For security, the user passwords are encrypted before being stored into the database. When a user logs in, he provides a password in clear text.
This given password is then encrypted <strong>by the same algorithm and the same encoder class</strong> before being compared with the stored password. If they match, the user gets authenticated.</p> <p>As of eXo Platform 4.3, the encoder and the algorithm can be configured via <code>exo.properties</code> file.</p> <p>As of eXo Platform 6.5, the default encoder change to use a more robust one. Before change, default encoder was <code>org.picketlink.idm.impl.credential.DatabaseReadingSaltEncoder</code> with SHA-256 hashing algorithm.
Now, the default encoder is <code>org.exoplatform.web.security.hash.Argon2IdPasswordEncoder</code>.</p> <table><thead><tr><th>Name</th> <th>Description</th> <th>Default</th></tr></thead> <tbody><tr><td>exo.plidm.password.class</td> <td>The class that encrypts the user password before it is stored in the database.</td> <td>org.exoplatform.web.security.hash.Argon2IdPasswordEncoder</td></tr></tbody></table> <h3 id="update-password-encryption-algorithm"><a href="#update-password-encryption-algorithm" class="header-anchor">#</a> Update Password Encryption Algorithm</h3> <p>To make this important change transparent for administrators who are in charge of platform security, there is few points to know :</p> <ul><li>It is possible to keep the algorithm you use previously, by setting the property with the encoder class you want. As the DatabaseReadingSaltEncoder is less secure, keeping the old encoder could lead to security vulnerabilities</li> <li>It is possible to move to the new hashing algorithm. For that, unset the <code>exo.plidm.password.class</code> (default class will be used aka Argon2IdPasswordEncoder), and set the property <code>exo.plidm.password.oldClass</code> with the previous encoder class.</li></ul> <p>When moving to a new algorithm, all existing hashes in database will be updated.
Before changing, hash are calculated like that :</p> <ul><li><code>hash = oldAlg(password)</code>
After changing, hash will be updated to :</li> <li><code>newHash = newAlg(hash)</code>, which mean <code>newHash = newAlg(oldAlg(password))</code>
Authenticate process is updated, and when we detect the old algorithm is still used, on successfull authentication, we update the hash to remove olgAlg. So that, after authentication, user hash will be <code>hash = newAlg(password)</code></li></ul> <p>With this update process, we ensure that all hashes are creating with new algorithm, which is more secure, and that, all users can still log in, even if we modify the default password encoder.</p> <h2 id="task-management"><a href="#task-management" class="header-anchor">#</a> Task Management</h2> <p>To define a default workflow for new projects in the Task Management application, you can configure a property named <code>exo.tasks.default.status</code> via <code>exo.properties</code> file.</p> <p>For instance:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">    exo.tasks.default.status</span><span class="token punctuation">=</span><span class="token value attr-value">To Do, In Progress, Wait, Validate, Done</span>
</code></pre></div><p>in which, each status in the workflow is separated by a comma.</p> <h2 id="chat-configuration"><a href="#chat-configuration" class="header-anchor">#</a> Chat Configuration</h2> <p>Configuring the eXo Chat add-on can be done by creating a <code>chat.properties</code> file or using the <code>exo.properties</code> file (if you have not created this file).</p> <p>These configuration files are located in:</p> <ul><li><code>$PLATFORM_TOMCAT_HOME/gatein/conf/</code>.</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>You were asked to create the files for security during the setup. If you include any parameter below into the <code>exo.properties</code>, you should add the prefix <code>chat.</code> to its name, such as <code>chat.dbServerHost</code>. Besides, in case both of these files are used, parameters in the <code>exo.properties</code> file will have higher priority than those in the <code>chat.properties</code> file.</p></div> <h3 id="mongo-database"><a href="#mongo-database" class="header-anchor">#</a> Mongo Database</h3> <table><thead><tr><th>Parameter</th> <th>Default</th> <th>Description</th></tr></thead> <tbody><tr><td><code>dbServerType</code></td> <td><em>mongo</em></td> <td>You should always use the default value. The other value, <em>embed</em>, is used for unit testing.</td></tr> <tr><td><code>dbServerHost</code></td> <td><em>localhost</em></td> <td>The host name or IP of MongoDB.</td></tr> <tr><td><code>dbServerPort</code></td> <td><em>27017</em></td> <td>The port number to connect to MongoDB host.</td></tr> <tr><td><code>dbServerHosts</code></td> <td></td> <td>The MongoDB nodes to connect to, as a comma-separated list of &lt;host:port&gt; values. For example : <code>host1:27017,host2:27017,host3:27017</code></td></tr> <tr><td><code>dbName</code></td> <td><em>chat</em></td> <td>Name of the Mongo database name.</td></tr> <tr><td><code>dbAuthentication</code></td> <td><em>false</em></td> <td>Set it <em>true</em> if authentication is required to access MongoDB.</td></tr> <tr><td><code>dbUser</code></td> <td><em>EMPTY</em></td> <td>Provide the username to access the database if authentication needed.</td></tr> <tr><td><code>dbPassword</code></td> <td><em>EMPTY</em></td> <td>Provide the password to access the database if authentication needed.</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>It is highly recommended to define the parameter <code>dbServerHosts</code> instead of defining the two parameters <code>dbServerHost</code> and <code>dbServerPort</code> as they are depracated starting from eXo Platform 5.0 version.</p></div> <p>Generally, you do not need to configure those unless you have secured your MongoDB.</p> <h3 id="chat-server"><a href="#chat-server" class="header-anchor">#</a> Chat Server</h3> <table><thead><tr><th>Parameter</th> <th>Default</th> <th>Description</th></tr></thead> <tbody><tr><td><code>standaloneChatServer</code></td> <td><em>false</em></td> <td>The mode of the chat server: <br>- The parameter is set to true if the chat is in a standalone mode.<br>- The parameter is set to false if the the chat is in embedded mode.</td></tr> <tr><td><code>chatPassPhrase</code></td> <td><em>chat</em></td> <td>The password to access REST service on the eXo Chat server.</td></tr> <tr><td>`chatCronNotifCleanup</td> <td>*0 0 * * (cron expression)</td> <td>The notifications are cleaned up every one hour by default</td></tr> <tr><td><code>teamAdminGroup</code></td> <td><em>/platform/administrators</em></td> <td>The eXo group who can create teams.</td></tr> <tr><td><code>chatReadDays</code></td> <td><em>30</em> (days)</td> <td>When a user reads a chat, the application displays messages of some days in the past.</td></tr> <tr><td><code>chatReadTotalJson</code></td> <td><em>200</em></td> <td>The number of messages that you can get in the Chat room.</td></tr></tbody></table> <h3 id="chat-client-updates"><a href="#chat-client-updates" class="header-anchor">#</a> Chat Client updates</h3> <table><thead><tr><th>Parameter</th> <th>Default (milliseconds)</th> <th>Description</th></tr></thead> <tbody><tr><td><code>chatIntervalChat</code></td> <td><em>5000</em></td> <td>Time interval to refresh messages in a chat.</td></tr> <tr><td><code>chatIntervalSession</code></td> <td><em>60000</em></td> <td>Time interval to keep a chat session alive in milliseconds.</td></tr> <tr><td><code>chatIntervalStatus</code></td> <td><em>60000</em></td> <td>Time interval to refresh user status in milliseconds.</td></tr> <tr><td><code>chatIntervalNotif</code></td> <td><em>5000</em></td> <td>Time interval to refresh Notifications in the main menu in milliseconds.</td></tr> <tr><td><code>chatIntervalUsers</code></td> <td><em>60000</em></td> <td>Time interval to refresh Users list in milliseconds.</td></tr> <tr><td><code>chatTokenValidity</code></td> <td><em>60000</em></td> <td>Time after which a token will be invalid. The use will then be considered <em>offline</em>.</td></tr></tbody></table> <h2 id="configuring-exo-web-conferencing"><a href="#configuring-exo-web-conferencing" class="header-anchor">#</a> Configuring eXo Web Conferencing</h2> <p><code>eXo Web Conferencing</code> add-on enables users to make video calls through the interface of eXo Platform. You can parameter this add-on by configuring the below variables in <code>exo.properties</code> file.</p> <table><thead><tr><th>Parameter</th> <th>Default</th> <th>Description</th></tr></thead> <tbody><tr><td><code>webconferencing.webrtc.bundlePolicy</code></td> <td>balanced</td> <td>Web RTC setting to indicate which media-bundling policy to use when gathering ICE candidates.</td></tr> <tr><td><code>webconferencing.webrtc.iceCandidatePoolSize</code></td> <td>&gt; 0</td> <td>WebRTC setting which define the size of the prefetched ICE pool.</td></tr> <tr><td><code>webconferencing.webrtc.iceTransportPolicy</code></td> <td>all</td> <td>Web RTC setting to indicate which candidates the ICE Agent is allowed to use.</td></tr> <tr><td><code>webconferencing.webrtc.default.stun.enabled</code></td> <td>true</td> <td>Indicates if the default defined STUN servers must be used.</td></tr> <tr><td><code>webconferencing.webrtc.exo.stun.enabled</code></td> <td>false</td> <td>Indicates if the default defined eXo STUN servers must be used.</td></tr> <tr><td><code>webconferencing.webrtc.xirsys.stun.enabled</code></td> <td>false</td> <td>Indicates if theXirsys STUN servers must be used.</td></tr> <tr><td><code>webconferencing.webrtc.exo.turn.enabled</code></td> <td>false</td> <td>Indicates if the default defined TURN servers must be used.</td></tr> <tr><td><code>webconferencing.webrtc.exo.turn.username</code></td> <td></td> <td>Username to authenticate on default TURN servers.</td></tr> <tr><td><code>webconferencing.webrtc.exo.turn.credential</code></td> <td></td> <td>Password to authenticate on default TURN servers.</td></tr> <tr><td><code>webconferencing.webrtc.xirsys.turn.enabled</code></td> <td>false</td> <td>Indicates if the Xirsys TURN servers must be used.</td></tr> <tr><td><code>webconferencing.webrtc.xirsys.username</code></td> <td></td> <td>Username to authenticate on Xirsys TURN servers.</td></tr> <tr><td><code>webconferencing.webrtc.xirsys.credential</code></td> <td></td> <td>Password to authenticate on Xirsys TURN servers.</td></tr> <tr><td><code>webconferencing.webrtc.active</code></td> <td>true</td> <td>Indicates if the WebRTC connector is active.</td></tr></tbody></table> <h2 id="update-of-last-login-time"><a href="#update-of-last-login-time" class="header-anchor">#</a> Update of last login time</h2> <p>By default, eXo Platform persists the last login time information for each user in an internal database. You may need to disable this parameter o optimize login time especially when your system is highly solicited by a lot of concurrent users. You can disable this feature by configuring the parameter <code>exo.idm.user.updateLastLoginTime</code> in <code>exo.properties</code> file. The default value is set to true.</p> <ul><li>Setting <code>exo.idm.user.updateLastLoginTime</code> to true enables the update, <strong>in the IDM database</strong>, of the last login time each time the user login to eXo Platform.</li> <li>Setting <code>exo.idm.user.updateLastLoginTime</code> to false disables the update of the user's last login time and if the platform is connected to an external system for users storage (such as LDAP or AD), the last login time will be updated in this external system.</li></ul> <h2 id="enabling-disabling-login-history"><a href="#enabling-disabling-login-history" class="header-anchor">#</a> Enabling/Disabling login history</h2> <p>Starting from 5.3 version, eXo Platform allows you to enable/disable the login history data storage by adding the parameter <code>exo.audit.login.enabled</code> to <code>exo.properties</code> file.</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># Enable/disable login history storage</span>
<span class="token key attr-name">exo.audit.login.enabled</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
</code></pre></div><p>By default, the parameter is set to <code>true</code>, it means that the login history data is stored in the database.</p> <p>To disable the login history data storage in the database, simply set the parameter <code>exo.audit.login.enabled</code> to <code>false</code>.</p> <h2 id="configuring-exo-wallet"><a href="#configuring-exo-wallet" class="header-anchor">#</a> Configuring eXo Wallet</h2> <p>The eXo Wallet addon uses the <a href="https://www.ethereum.org/" target="_blank" rel="noopener noreferrer">Ethereum Blockchain<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to let eXo users hold and exchange crypto-currency (aka tokens) managed inside this blockchain.</p> <h3 id="blockchain-network-settings"><a href="#blockchain-network-settings" class="header-anchor">#</a> Blockchain network settings</h3> <p>The addon is configured by default to communicate with Ethereum's public network (called the &quot;Mainnet&quot;) throught <a href="https://infura.io/" target="_blank" rel="noopener noreferrer">Infura<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> using websocket and http protocols:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">exo.wallet.blockchain.networkId</span><span class="token punctuation">=</span><span class="token value attr-value">1</span>
<span class="token key attr-name">exo.wallet.blockchain.network.websocket</span><span class="token punctuation">=</span><span class="token value attr-value">wss://mainnet.infura.io/ws/v3/a1ac85aea9ce4be88e9e87dad7c01d40</span>
<span class="token key attr-name">exo.wallet.blockchain.network.http</span><span class="token punctuation">=</span><span class="token value attr-value">https://mainnet.infura.io/v3/a1ac85aea9ce4be88e9e87dad7c01d40</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>The default configuration points to an eXo-owner infura project ID that serves as proxy to the mainnet. To learn more about infura infrastructure and projects, please visit <a href="https://infura.io/docs/" target="_blank" rel="noopener noreferrer">Infura documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <ul><li><p>The Websocket endpoint is used to:</p> <ul><li>Scan newly mined blocks on the blockchain to check if any validated transaction involves a wallet owned by an available</li> <li>user in your eXo Platform instance. The periodicity can be configured using the following property (Default value: every hour):</li></ul> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">exo.wallet.ContractTransactionVerifierJob.expression</span><span class="token punctuation">=</span><span class="token value attr-value">0 0 * ? * * *</span>
</code></pre></div><ul><li>Checks all pending transactions sent using the eXo Wallet application to update its internal state (cache and persistent storage) and send notifications to receiver and sender of the transactions. The check is made periodically and can be configured using the following property (Default value: each day at 7:15 AM):</li></ul> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">    exo.wallet.PendingTransactionVerifierJob.expression</span><span class="token punctuation">=</span><span class="token value attr-value">0 15 7 * * ?</span>
</code></pre></div><ul><li>Send raw transactions of all wallets. When a user sends a transaction, it gets signed by a private key in the browser side. The resulted raw transaction is sent to eXo Platform server instead of sending it directly to blockchain. This will avoid bad UX of user when network is interrupted or a problem happens on browser side. eXo Platform server will send raw transactions of users into blockchain periodically. The periodicity can be configured using the following property (Default value: every 30 seconds):</li></ul></li></ul> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">exo.wallet.TransactionSenderJob.expression</span><span class="token punctuation">=</span><span class="token value attr-value">0/30 * * * * ?</span>
</code></pre></div><ul><li>The maximum number of pending transactions to send (per wallet) is determined by the following property (Default: 3 pending transactions per wallet):</li></ul> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name"> exo.wallet.transaction.pending.maxToSend</span><span class="token punctuation">=</span><span class="token value attr-value">3</span>
</code></pre></div><ul><li>Retrieve periodically the gas price suggested on blockchain.This gas price will be used in wallets, when dynamic gas price choice is used. The periodicity can be configured using the following property (Default value: every 2 minutes):</li></ul> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">    exo.wallet.GasPriceUpdaterJob.expression</span><span class="token punctuation">=</span><span class="token value attr-value">0 0/2 * * * ?</span>
</code></pre></div><ul><li>Unlike the <em>Admin wallet</em> which uses <a href="https://web3j.io/" target="_blank" rel="noopener noreferrer">Web3j<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (Server side) to issue transactions, the HTTP endpoint is used by <em>users and spaces wallets</em> using <a href="https://web3js.readthedocs.io/" target="_blank" rel="noopener noreferrer">Web3.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (Browser side) to communicate with the blockchain to issue transactions.</li></ul> <h3 id="blockchain-transaction-settings"><a href="#blockchain-transaction-settings" class="header-anchor">#</a> Blockchain transaction settings</h3> <ul><li><p>When submitting a transaction to the Ethereum blockchain, some special properties are required by the blockchain protocols, namely <em>gas limit</em> and <em>gas price</em>.</p> <ul><li><strong>Gas limit</strong> : The <em>gas limit</em> is the maximum gas that a transaction can consume to execute any operation using the token contract. It can be modified using the following property:</li></ul></li></ul> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># Value in GAS</span>
<span class="token key attr-name">  exo.wallet.transaction.gas.limit</span><span class="token punctuation">=</span><span class="token value attr-value">150000</span>
</code></pre></div><ul><li><p><strong>Gas price</strong> : The <em>gas price</em> parameters will determine transaction fee of operations made using eXo Wallet addon. In the UI, the user has three choices:</p> <ul><li>Cheap transaction: this option will use the gas price configured by the following property (in  <a href="http://ethdocs.org/en/latest/ether.html" target="_blank" rel="noopener noreferrer">WEI<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>):</li></ul> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">  exo.wallet.transaction.gas.cheapPrice</span><span class="token punctuation">=</span><span class="token value attr-value">4000000000</span>
</code></pre></div><ul><li>Dynamic or Normal transaction: This is the default choice used for perkstore and wallet. In fact, the default option is to use dynamic gas price that will be computed and determined from blockchain periodically. This will avoid using a static gas price which can lead to a very slow transaction mining time. On the other hand, using a dynamic gas price can lead to having expensive transactions. (This will depend on the proposed gas price by blockchain) The dynamic gas price is bounded by minimal <code>Cheap gas price</code> configuration and <code>Fast gas price</code> configuration. To make this gas price static, you can modify the following parameter (Default value: true):</li></ul></li></ul> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">   exo.wallet.blockchain.useDynamicGasPrice</span><span class="token punctuation">=</span><span class="token value attr-value">false</span>
</code></pre></div><ul><li>Once the dynamic gas price is turned off, you can set a static <code>normal gas price</code> configured by the following property (in <code>WEI &lt;http://ethdocs.org/en/latest/ether.html&gt;</code>__):</li></ul> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">   exo.wallet.transaction.gas.normalPrice</span><span class="token punctuation">=</span><span class="token value attr-value">8000000000</span>
</code></pre></div><ul><li>Fast transaction: this option will use the gas price configured by the following property (in <a href="http://ethdocs.org/en/latest/ether.html" target="_blank" rel="noopener noreferrer">WEI<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>):</li></ul> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name"> exo.wallet.transaction.gas.fastPrice</span><span class="token punctuation">=</span><span class="token value attr-value">15000000000</span>
</code></pre></div><ul><li>When a transaction is submitted but isn't mined for several days, it will be marked as failed in eXo Wallet's internal database. The maximum number of days waiting for transaction mining can be configured using the following property:</li></ul> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name"> exo.wallet.transaction.pending.maxDays</span><span class="token punctuation">=</span><span class="token value attr-value">1</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If the transaction is still not mined after <code>exo.wallet.transaction.pending.maxDays</code> days, it will be marked as a failed transaction in eXo's internal database. if/when it gets eventually mined (pending.maxDays), the Job <code>ContractTransactionVerifierJob</code> will detect it and will update the real transaction status coming from the blockchain and send notifications.</p></div> <ul><li>The parallel number of transactions to send:</li></ul> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">exo.wallet.transaction.pending.maxToSend</span><span class="token punctuation">=</span><span class="token value attr-value">5</span>
</code></pre></div><ul><li>The number of sending transaction attempts is configured by:</li></ul> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">exo.wallet.transaction.pending.maxSendingAttempts</span><span class="token punctuation">=</span><span class="token value attr-value">3</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If the transaction is still not mined after <code>exo.wallet.transaction.pending.maxDays</code> days, it will be marked as a failed in eXo's internal database. if/when it gets eventually mined (pending.maxDays), the Job <code>ContractTransactionVerifierJob</code> will detect it and will update the real transaction status coming from the blockchain and send notifications.</p></div> <ul><li>When a new user creates his wallet, we could set the Ether/Matic value to send to him so that he can pay for a transaction on the blockchain using the following property. If not set, the user will receive an amount sufficient to pay for a single transaction calculated using the gas price detected on the blockchain.</li></ul> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name"> exo.wallet.blockchain.defaultInitialCryptoCurrencyFunds</span><span class="token punctuation">=</span><span class="token value attr-value">0.3    </span>
</code></pre></div><h3 id="wallet-types"><a href="#wallet-types" class="header-anchor">#</a> Wallet types</h3> <ul><li><p><strong>Admin wallet</strong></p> <p>The <em>Admin wallet</em> is created automatically during first startup of the eXo Platform server.</p> <p>In order to be able to submit transactions to the blockchain using <a href="https://web3j.io/" target="_blank" rel="noopener noreferrer">Web3j<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> server side, the private key of the <em>Admin wallet</em> is stored (in encrypted form) in the internal database. The private key is encrypted by combining two passwords:</p></li> <li><p>A first password is read from a keystore file (see <code>Updating password encryption key</code></p></li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>The generated keystore file under [gatein/conf/codec] MUST be backed up as a data folder, because it contains a key file that is used to decrypt stored wallets private keys. If it's lost, all wallets private keys will be lost and consequently, all funds would be lost and unrecoverable.</p></div> <ul><li>A second password that must be configured in properties:</li></ul> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">exo.wallet.admin.key</span><span class="token punctuation">=</span><span class="token value attr-value">changeThisKey</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>The password can't be changed once the platform is started for the first time. In fact, this password will be used to encrypt the <em>Admin wallet</em>'s private key that will be stored in database. If its value is modified after server startup, the private key of admin wallet won't be decrypted anymore, preventing all administrative operations.</p></div> <p>The <em>Admin wallet</em> can be used by <em>/platform/rewarding</em> group members to initialize other wallets. The private key of the admin wallet cannot be accessed by any user to avoid exposing its funds to an unauthorized person.</p> <ul><li><strong>User wallet</strong></li></ul> <p>By default, any user of the platform can create their own wallet. A property is added to restrict access to wallet application to a group of users:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># Example of expressions</span>

<span class="token comment"># Any user</span>
<span class="token key attr-name">exo.wallet.accessPermission</span><span class="token punctuation">=</span>
<span class="token comment"># All connected users of the platform</span>
<span class="token key attr-name">exo.wallet.accessPermission</span><span class="token punctuation">=</span><span class="token value attr-value">/platform/users</span>
<span class="token comment"># All administrators of the platform</span>
<span class="token key attr-name">exo.wallet.accessPermission</span><span class="token punctuation">=</span><span class="token value attr-value">*:/platform/administrators</span>
<span class="token comment"># All members of space associated to group internal_space</span>
<span class="token key attr-name">exo.wallet.accessPermission</span><span class="token punctuation">=</span><span class="token value attr-value">member:/spaces/internal_space</span>
</code></pre></div><ul><li><strong>Space wallet</strong></li></ul> <p>Space managers can add the wallet application in their space using <code>Managing space applications</code> UI:</p> <p>Space wallets can be managed by one or multiple space managers. In fact, the space wallet is similar to user wallet. To use it, it must be activated by an admin. The operation is carried out by the <em>Admin Wallet</em> account. By default, any space member can access to the space wallet in <em>readonly</em> mode.</p> <h3 id="token-contract"><a href="#token-contract" class="header-anchor">#</a> Token contract</h3> <p>The contract address used for the main token currency can be configured using the following variable:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name"> exo.wallet.blockchain.token.address</span><span class="token punctuation">=</span><span class="token value attr-value">0xc76987d43b77c45d51653b6eb110b9174acce8fb</span>
</code></pre></div><p>This address is the official contract address for the official rewarding token promoted by eXo. It shouldn't change through eXo Platform versions on the Ethereum Mainnet blockchain. This crypto-currency token, is shared by all eXo Community users.</p> <p>It is an <a href="https://eips.ethereum.org/EIPS/eip-20" target="_blank" rel="noopener noreferrer">ERC-20<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> Token contract that is deployed on Ethereum Mainnet.</p> <p>To be able to receive some tokens, a wallet address must be initialized by a <em>token contract</em> administrator on the blockchain (this cannot be done on your eXo Platform server).</p> <h2 id="trashcleaner-job"><a href="#trashcleaner-job" class="header-anchor">#</a> TrashCleaner Job</h2> <p>TrashCleaner job is a job which remove old contents present in the trash.
This job use two properties :</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">    exo.trashcleaner.lifetime</span><span class="token punctuation">=</span><span class="token value attr-value">30</span>
<span class="token key attr-name">    exo.trashcleaner.cron.expression</span><span class="token punctuation">=</span><span class="token value attr-value">0 0 20 ? * SAT</span>
</code></pre></div><p>By default, the job runs each saturday a 8PM, and delete all content present in Trash since more than 30 days.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/administration/database.html">
        Database
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.566fc5fe.js" defer></script><script src="/assets/js/2.a6004e7f.js" defer></script><script src="/assets/js/1.298b45b6.js" defer></script><script src="/assets/js/30.5235d8d8.js" defer></script>
  </body>
</html>
